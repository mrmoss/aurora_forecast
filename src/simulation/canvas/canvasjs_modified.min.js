(function(){function a(e,t){e.prototype=f(t.prototype);e.prototype.constructor=e;e.parent=t.prototype}function f(e){function t(){}t.prototype=e;return new t}function l(e,t,n){if(n==="millisecond")e.setMilliseconds(e.getMilliseconds()+1*t);else if(n==="second")e.setSeconds(e.getSeconds()+1*t);else if(n==="minute")e.setMinutes(e.getMinutes()+1*t);else if(n==="hour")e.setHours(e.getHours()+1*t);else if(n==="day")e.setDate(e.getDate()+1*t);else if(n==="week")e.setDate(e.getDate()+7*t);else if(n==="month")e.setMonth(e.getMonth()+1*t);else if(n==="year")e.setFullYear(e.getFullYear()+1*t);return e}function c(e,t){return u[t+"Duration"]*e}function h(e,t){var n=false;if(e<0){n=true;e*=-1}e=""+e;t=!t?1:t;while(e.length<t)e="0"+e;return n?"-"+e:e}function p(e){if(!e)return e;e=e.replace(/^\s\s*/,"");var t=/\s/;var n=e.length;while(t.test(e.charAt(--n))){}return e.slice(0,n+1)}function d(e){e.roundRect=function(e,t,n,r,i,s,o,u){if(o){this.fillStyle=o}if(u){this.strokeStyle=u}if(typeof i==="undefined"){i=5}this.lineWidth=s;this.beginPath();this.moveTo(e+i,t);this.lineTo(e+n-i,t);this.quadraticCurveTo(e+n,t,e+n,t+i);this.lineTo(e+n,t+r-i);this.quadraticCurveTo(e+n,t+r,e+n-i,t+r);this.lineTo(e+i,t+r);this.quadraticCurveTo(e,t+r,e,t+r-i);this.lineTo(e,t+i);this.quadraticCurveTo(e,t,e+i,t);this.closePath();if(o){this.fill()}if(u&&s>0){this.stroke()}}}function v(e,t){return e-t}function m(e,t){return e.x-t.x}function g(e){var t=((e&16711680)>>16).toString(16);var n=((e&65280)>>8).toString(16);var r=((e&255)>>0).toString(16);t=t.length<2?"0"+t:t;n=n.length<2?"0"+n:n;r=r.length<2?"0"+r:r;return"#"+t+n+r}function y(e,t,n){var r=e<<16|t<<8|n;return r}function b(e){var t=[];var n=(e&16711680)>>16;var r=(e&65280)>>8;var i=(e&255)>>0;t[0]=n;t[1]=r;t[2]=i;return t}function S(e,t,n){n=n||"normal";var r=e+"_"+t+"_"+n;var i=w[r];if(isNaN(i)){try{var s="position:absolute; left:0px; top:-20000px; padding:0px;margin:0px;border:none;white-space:pre;line-height:normal;"+"font-family:"+e+"; "+"font-size:"+t+"px; font-weight:"+n+";";if(!E){var o=document.body;E=document.createElement("span");E.innerHTML="";var u=document.createTextNode("Mpgyi");E.appendChild(u);o.appendChild(E)}E.style.display="";E.setAttribute("style",s);i=Math.round(E.offsetHeight);E.style.display="none"}catch(a){i=Math.ceil(t*1.1)}i=Math.max(i,t);w[r]=i}return i}function x(e,t,n,r){if(e.addEventListener){e.addEventListener(t,n,r||false)}else if(e.attachEvent){e.attachEvent("on"+t,function(t){t=t||window.event;t.preventDefault=t.preventDefault||function(){t.returnValue=false};t.stopPropagation=t.stopPropagation||function(){t.cancelBubble=true};n.call(e,t)})}else return false}function C(e,t,n){e*=D;t*=D;var r=n.getImageData(e,t,2,2).data;var i=true;for(var s=0;s<4;s++){if(r[s]!==r[s+4]|r[s]!==r[s+8]|r[s]!==r[s+12]){i=false;break}}if(i){return y(r[0],r[1],r[2])}else{return 0}}function L(e,n,r){var i="";var s=e?e+"FontStyle":"fontStyle";var o=e?e+"FontWeight":"fontWeight";var u=e?e+"FontSize":"fontSize";var a=e?e+"FontFamily":"fontFamily";i+=n[s]?n[s]+" ":r&&r[s]?r[s]+" ":"";i+=n[o]?n[o]+" ":r&&r[o]?r[o]+" ":"";i+=n[u]?n[u]+"px ":r&&r[u]?r[u]+"px ":"";var f=n[a]?n[a]+"":r&&r[a]?r[a]+"":"";if(!t&&f){var l=f.split(",")[0];if(l[0]!=="'"&&l[0]!=='"')l="'"+l+"'";i+=l}else i+=f;return i}function A(e,t,n){var r=e in t?t[e]:n[e];return r}function P(e,n,r){if(t&&!!O){var i=e.getContext("2d");_=i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1;D=M/_;e.width=n*D;e.height=r*D;if(M!==_){e.style.width=n+"px";e.style.height=r+"px";i.scale(D,D)}}else{e.width=n;e.height=r}}function H(e,n){var r=document.createElement("canvas");r.setAttribute("class","canvasjs-chart-canvas");P(r,e,n);if(!t&&typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(r)}return r}function B(e,t,n){this._defaultsKey=e;var r={};if(n&&o[n]&&o[n][e])r=o[n][e];this._options=t?t:{};this.setOptions(this._options,r)}function j(e,n){n=n||{};j.parent.constructor.call(this,"Chart",n,n.theme?n.theme:"theme1");var r=this;this._containerId=e;this._objectsInitialized=false;this.ctx=null;this.overlaidCanvasCtx=null;this._indexLabels=[];this._panTimerId=0;this._lastTouchEventType="";this._lastTouchData=null;this.panEnabled=false;this._defaultCursor="default";this.plotArea={canvas:null,ctx:null,x1:0,y1:0,x2:0,y2:0,width:0,height:0};this._dataInRenderedOrder=[];this._container=document.getElementById(this._containerId);if(!this._container){if(window.console)window.console.log('CanvasJS Error: Chart Container with id "'+this._containerId+'" was not found');return}this._container.innerHTML="";var i=0;var o=0;if(this._options.width)i=this.width;else i=this._container.clientWidth>0?this._container.clientWidth:this.width;if(this._options.height)o=this.height;else o=this._container.clientHeight>0?this._container.clientHeight:this.height;this.width=i;this.height=o;this._selectedColorSet=typeof s[this.colorSet]!=="undefined"?s[this.colorSet]:s["colorSet1"];this._canvasJSContainer=document.createElement("div");this._canvasJSContainer.setAttribute("class","canvasjs-chart-container");this._canvasJSContainer.style.position="relative";this._canvasJSContainer.style.textAlign="left";this._canvasJSContainer.style.cursor="auto";if(!t){this._canvasJSContainer.style.height="0px"}this._container.appendChild(this._canvasJSContainer);this.canvas=H(i,o);this.canvas.style.position="absolute";if(this.canvas.getContext){try{this.canvas.style.background=this.backgroundColor}catch(u){}this._canvasJSContainer.appendChild(this.canvas);this.ctx=this.canvas.getContext("2d");this.ctx.textBaseline="top";d(this.ctx)}else return;if(!t){this.plotArea.canvas=H(i,o);this.plotArea.canvas.style.position="absolute";this.plotArea.canvas.setAttribute("class","plotAreaCanvas");this._canvasJSContainer.appendChild(this.plotArea.canvas);this.plotArea.ctx=this.plotArea.canvas.getContext("2d")}else{this.plotArea.ctx=this.ctx}this.overlaidCanvas=H(i,o);this.overlaidCanvas.style.position="absolute";this._canvasJSContainer.appendChild(this.overlaidCanvas);this.overlaidCanvasCtx=this.overlaidCanvas.getContext("2d");this.overlaidCanvasCtx.textBaseline="top";this._eventManager=new Q(this);x(window,"resize",function(){if(r._updateSize())r.render()});this._toolBar=document.createElement("div");this._toolBar.setAttribute("class","canvasjs-chart-toolbar");this._toolBar.style.position="absolute";this._toolBar.style.top="0px";this._toolBar.style.right="0px";this._canvasJSContainer.appendChild(this._toolBar);this._toolBar.style.display="none";this.bounds={x1:0,y1:0,x2:this.width,y2:this.height};x(this.overlaidCanvas,"click",function(e){r._mouseEventHandler(e)});x(this.overlaidCanvas,"mousemove",function(e){r._mouseEventHandler(e)});x(this.overlaidCanvas,"mouseup",function(e){r._mouseEventHandler(e)});x(this.overlaidCanvas,"mousedown",function(e){r._mouseEventHandler(e)});x(this.overlaidCanvas,"mouseout",function(e){r._mouseEventHandler(e)});x(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",function(e){r._touchEventHandler(e)});x(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",function(e){r._touchEventHandler(e)});x(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerUp":"touchend",function(e){r._touchEventHandler(e)});x(this.overlaidCanvas,window.navigator.msPointerEnabled?"MSPointerCancel":"touchcancel",function(e){r._touchEventHandler(e)});if(!this._creditLink){this._creditLink=document.createElement("a");this._creditLink.setAttribute("class","canvasjs-chart-credit");this._creditLink.setAttribute("style","outline:none;margin:0px;position:absolute;right:3px;top:"+(this.height-14)+"px;color:dimgrey;text-decoration:none;font-size:10px;font-family:Lucida Grande, Lucida Sans Unicode, Arial, sans-serif");this._creditLink.setAttribute("tabIndex",-1);this._creditLink.setAttribute("target","_blank")}this._toolTip=new K(this,this._options.toolTip,this.theme);this.layoutManager=new R(this);this.data=null;this.axisX=null;this.axisY=null;this.axisY2=null;this.renderCount=0;this.sessionVariables={axisX:{internalMinimum:null,internalMaximum:null},axisY:{internalMinimum:null,internalMaximum:null},axisY2:{internalMinimum:null,internalMaximum:null}}}function F(e,t){var n=[];for(var r=0;r<e.length;r++){if(r==0){n.push(e[0]);continue}var i,s,o;o=r-1;i=o===0?0:o-1;s=o===e.length-1?o:o+1;var u={x:(e[s].x-e[i].x)/t,y:(e[s].y-e[i].y)/t};var a={x:e[o].x+u.x/3,y:e[o].y+u.y/3};n[n.length]=a;o=r;i=o===0?0:o-1;s=o===e.length-1?o:o+1;var f={x:(e[s].x-e[i].x)/t,y:(e[s].y-e[i].y)/t};var l={x:e[o].x-f.x/3,y:e[o].y-f.y/3};n[n.length]=l;n[n.length]=e[r]}return n}function R(e){this._topOccupied=0;this._bottomOccupied=0;this._leftOccupied=0;this._rightOccupied=0;this.chart=e}function U(e,t){U.parent.constructor.call(this,"TextBlock",t);this.ctx=e;this._isDirty=true;this._wrappedText=null;this._lineHeight=S(this.fontFamily,this.fontSize,this.fontWeight)}function z(e,t){z.parent.constructor.call(this,"Title",t,e.theme);this.chart=e;this.canvas=e.canvas;this.ctx=this.chart.ctx;if(typeof this._options.fontSize==="undefined"){this.fontSize=this.chart.getAutoFontSize(this.fontSize)}this.width=null,this.height=null;this.bounds={x1:null,y1:null,x2:null,y2:null}}function W(e,t,n){W.parent.constructor.call(this,"Legend",t,n);this.chart=e;this.canvas=e.canvas;this.ctx=this.chart.ctx;this.ghostCtx=this.chart._eventManager.ghostCtx;this.items=[];this.width=0,this.height=0,this.orientation=null,this.horizontalSpacing=10;this.dataSeries=[];this.bounds={x1:null,y1:null,x2:null,y2:null};if(typeof this._options.fontSize==="undefined"){this.fontSize=this.chart.getAutoFontSize(this.fontSize)}this.lineHeight=S(this.fontFamily,this.fontSize,this.fontWeight)}function X(e,t){X.parent.constructor.call(this,t);this.chart=e;this.canvas=e.canvas;this.ctx=this.chart.ctx}function V(e,t,n,r,i){V.parent.constructor.call(this,"DataSeries",t,n);this.chart=e;this.canvas=e.canvas;this._ctx=e.canvas.ctx;this.index=r;this.noDataPointsInPlotArea=0;this.maxWidthInX=0;this.id=i;this.chart._eventManager.objectMap[i]={id:i,objectType:"dataSeries",dataSeriesIndex:r};this.dataPointIds=[];this.axisX=null;this.axisY=null;this.axisPlacement=this.getDefaultAxisPlacement();if(typeof this._options.indexLabelFontSize==="undefined"){this.indexLabelFontSize=this.chart.getAutoFontSize(this.indexLabelFontSize)}}function $(e,t,n,r){$.parent.constructor.call(this,"Axis",t,e.theme);this.chart=e;this.canvas=e.canvas;this.ctx=e.ctx;this.maxWidth=0;this.maxHeight=0;this.intervalStartPosition=0;this.labels=[];this._labels=null;this.dataInfo={min:Infinity,max:-Infinity,viewPortMin:Infinity,viewPortMax:-Infinity,minDiff:Infinity};if(n==="axisX"){this.sessionVariables=this.chart.sessionVariables[n];if(!this._options.interval)this.intervalType=null}else{if(r==="left"||r==="top")this.sessionVariables=this.chart.sessionVariables["axisY"];else{this.sessionVariables=this.chart.sessionVariables["axisY2"]}}if(typeof this._options.titleFontSize==="undefined"){this.titleFontSize=this.chart.getAutoFontSize(this.titleFontSize)}if(typeof this._options.labelFontSize==="undefined"){this.labelFontSize=this.chart.getAutoFontSize(this.labelFontSize)}this.type=n;if(n==="axisX"&&(!t||typeof t.gridThickness==="undefined"))this.gridThickness=0;this._position=r;this.lineCoordinates={x1:null,y1:null,x2:null,y2:null,width:null};{this.labelAngle=(this.labelAngle%360+360)%360;if(this.labelAngle>90&&this.labelAngle<=270)this.labelAngle-=180;else if(this.labelAngle>180&&this.labelAngle<=270)this.labelAngle-=180;else if(this.labelAngle>270&&this.labelAngle<=360)this.labelAngle-=360}if(this._options.stripLines&&this._options.stripLines.length>0){this.stripLines=[];for(var i=0;i<this._options.stripLines.length;i++){this.stripLines.push(new J(this.chart,this._options.stripLines[i],e.theme,++this.chart._eventManager.lastObjectId))}}this._titleTextBlock=null;this._absoluteMinimum=null;this._absoluteMaximum=null;if(this.hasOptionChanged("minimum"))this.sessionVariables.internalMinimum=this.minimum;if(this.hasOptionChanged("maximum"))this.sessionVariables.internalMaximum=this.maximum;this.trackChanges("minimum");this.trackChanges("maximum")}function J(e,t,n,r){J.parent.constructor.call(this,"StripLine",t,n);this._thicknessType="pixel";this.id=r;if(this.startValue!==null&&this.endValue!==null){this.value=((this.startValue.getTime?this.startValue.getTime():this.startValue)+(this.endValue.getTime?this.endValue.getTime():this.endValue))/2;this.thickness=Math.max(this.endValue-this.startValue);this._thicknessType="value"}}function K(e,t,n){K.parent.constructor.call(this,"ToolTip",t,n);this.chart=e;this.canvas=e.canvas;this.ctx=this.chart.ctx;this.currentSeriesIndex=-1;this.currentDataPointIndex=-1;this._timerId=0;this._prevX=NaN;this._prevY=NaN;this._initialize()}function Q(e){this.chart=e;this.lastObjectId=0;var t=this;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.ghostCanvas=H(this.chart.width,this.chart.height);this.ghostCtx=this.ghostCanvas.getContext("2d");var n=function(e){t.mouseEventHandler.call(t,e)};this.mouseoveredObjectMaps=[]}function G(e,t){var n;if(t&&r[t])n=r[t];z.parent.constructor.call(this,"CultureInfo",n,e.theme);this.chart=e;this.canvas=e.canvas;this.ctx=this.chart.ctx}var e=false;var t=!!document.createElement("canvas").getContext;var n={Chart:{width:500,height:400,zoomEnabled:false,backgroundColor:"white",theme:"theme1",animationEnabled:t?true:false,colorSet:"colorSet1",culture:"en",creditHref:"http://canvasjs.com/",creditText:"CanvasJS.com",interactivityEnabled:true},Title:{padding:0,text:null,verticalAlign:"top",horizontalAlign:"center",fontSize:20,fontFamily:"Calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,margin:5},Legend:{name:null,verticalAlign:"center",horizontalAlign:"right",fontSize:14,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",cursor:null,itemmouseover:null,itemmouseout:null,itemmousemove:null,itemclick:null},ToolTip:{enabled:true,borderColor:null,shared:false,animationEnabled:true,content:null},Axis:{minimum:null,maximum:null,interval:null,intervalType:null,title:null,titleFontColor:"black",titleFontSize:20,titleFontFamily:"arial",titleFontWeight:"normal",titleFontStyle:"normal",labelAngle:0,labelFontFamily:"arial",labelFontColor:"black",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal",labelAutoFit:false,labelWrap:true,labelMaxWidth:null,prefix:"",suffix:"",includeZero:true,tickLength:5,tickColor:"black",tickThickness:1,lineColor:"black",lineThickness:1,gridColor:"A0A0A0",gridThickness:0,interlacedColor:null,valueFormatString:null,margin:2,stripLines:[]},StripLine:{value:null,startValue:null,endValue:null,color:"orange",thickness:2,label:"",labelBackgroundColor:"#EEEEEE",labelFontFamily:"arial",labelFontColor:"orange",labelFontSize:12,labelFontWeight:"normal",labelFontStyle:"normal"},DataSeries:{name:null,dataPoints:null,label:"",bevelEnabled:false,cursor:null,indexLabel:"",indexLabelPlacement:"outside",indexLabelOrientation:"horizontal",indexLabelFontColor:"black",indexLabelFontSize:12,indexLabelFontStyle:"normal",indexLabelFontFamily:"Arial",indexLabelFontWeight:"normal",indexLabelBackgroundColor:null,indexLabelLineColor:null,indexLabelLineThickness:1,indexLabelMaxWidth:null,indexLabelWrap:true,lineThickness:2,color:null,startAngle:0,type:"column",xValueType:"number",axisYType:"primary",xValueFormatString:null,yValueFormatString:null,showInLegend:null,legendMarkerType:null,legendMarkerColor:null,legendText:null,markerType:"circle",markerColor:null,markerSize:null,markerBorderColor:null,markerBorderThickness:null,mouseover:null,mouseout:null,mousemove:null,click:null,toolTipContent:null,visible:true},CultureInfo:{decimalSeparator:".",digitGroupSeparator:",",zoomText:"Zoom",panText:"Pan",resetText:"Reset",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},TextBlock:{x:0,y:0,width:null,height:null,maxWidth:null,maxHeight:null,padding:0,angle:0,text:"",horizontalAlign:"center",fontSize:12,fontFamily:"calibri",fontWeight:"normal",fontColor:"black",fontStyle:"normal",borderThickness:0,borderColor:"black",cornerRadius:0,backgroundColor:null,textBaseline:"top"}};var r={en:{}};var s={colorSet1:["#369EAD","#C24642","#7F6084","#86B402","#A2D1CF","#C8B631","#6DBCEB","#52514E","#4F81BC","#A064A1","#F79647"],colorSet2:["#4F81BC","#C0504E","#9BBB58","#23BFAA","#8064A1","#4AACC5","#F79647","#33558B"],colorSet3:["#8CA1BC","#36845C","#017E82","#8CB9D0","#708C98","#94838D","#F08891","#0366A7","#008276","#EE7757","#E5BA3A","#F2990B","#03557B","#782970"]};var o={theme1:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:t?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",fontSize:33,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:26,titleFontColor:"#666666",titleFontFamily:t?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontFamily:t?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"#BBBBBB",tickThickness:2,gridThickness:2,gridColor:"#BBBBBB",lineThickness:2,lineColor:"#BBBBBB"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:t?"monospace, sans-serif,arial black":"calibri"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:t?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineThickness:1}},theme2:{Chart:{colorSet:"colorSet2"},Title:{fontFamily:"impact, charcoal, arial black, sans-serif",fontSize:32,fontColor:"#333333",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:t?"monospace, sans-serif,arial black":"arial",titleFontWeight:"bold",labelFontFamily:t?"monospace, Courier New, Courier":"arial",labelFontSize:16,labelFontColor:"grey",labelFontWeight:"bold",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:0},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:t?"monospace, sans-serif,arial black":"arial"},DataSeries:{indexLabelFontColor:"grey",indexLabelFontFamily:t?"Courier New, Courier, monospace":"arial",indexLabelFontWeight:"bold",indexLabelFontSize:18,indexLabelLineThickness:1}},theme3:{Chart:{colorSet:"colorSet1"},Title:{fontFamily:t?"Candara, Optima, Trebuchet MS, Helvetica Neue, Helvetica, Trebuchet MS, serif":"calibri",fontSize:32,fontColor:"#3A3A3A",fontWeight:"bold",verticalAlign:"top",margin:10},Axis:{titleFontSize:22,titleFontColor:"rgb(98,98,98)",titleFontFamily:t?"Verdana, Geneva, Calibri, sans-serif":"calibri",labelFontFamily:t?"Calibri, Optima, Candara, Verdana, Geneva, sans-serif":"calibri",labelFontSize:18,labelFontColor:"grey",tickColor:"grey",tickThickness:2,gridThickness:2,gridColor:"grey",lineThickness:2,lineColor:"grey"},Legend:{verticalAlign:"bottom",horizontalAlign:"center",fontFamily:t?"monospace, sans-serif,arial black":"calibri"},DataSeries:{bevelEnabled:true,indexLabelFontColor:"grey",indexLabelFontFamily:t?"Candara, Optima, Calibri, Verdana, Geneva, sans-serif":"calibri",indexLabelFontSize:18,indexLabelLineColor:"lightgrey",indexLabelLineThickness:2}}};var u={numberDuration:1,yearDuration:1e3*60*60*24*364,monthDuration:1e3*60*60*24*30,weekDuration:1e3*60*60*24*7,dayDuration:1e3*60*60*24,hourDuration:1e3*60*60,minuteDuration:1e3*60,secondDuration:1e3,millisecondDuration:1,dayOfWeekFromInt:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};var w={};var E=null;var T=function(){var e=/D{1,4}|M{1,4}|Y{1,4}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|f{1,3}|t{1,2}|T{1,2}|K|z{1,3}|"[^"]*"|'[^']*'/g;var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var r=["January","February","March","April","May","June","July","August","September","October","November","December"];var i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g;var o=/[^-+\dA-Z]/g;return function(u,a,f){var l=f?f.days:t;var c=f?f.months:r;var p=f?f.shortDays:n;var d=f?f.shortMonths:i;var v="";var m=false;u=u&&u.getTime?u:u?new Date(u):new Date;if(isNaN(u))throw SyntaxError("invalid date");if(a.slice(0,4)==="UTC:"){a=a.slice(4);m=true}var g=m?"getUTC":"get";var y=u[g+"Date"]();var b=u[g+"Day"]();var w=u[g+"Month"]();var E=u[g+"FullYear"]();var S=u[g+"Hours"]();var x=u[g+"Minutes"]();var T=u[g+"Seconds"]();var N=u[g+"Milliseconds"]();var C=m?0:u.getTimezoneOffset();v=a.replace(e,function(e){switch(e){case"D":return y;case"DD":return h(y,2);case"DDD":return p[b];case"DDDD":return l[b];case"M":return w+1;case"MM":return h(w+1,2);case"MMM":return d[w];case"MMMM":return c[w];case"Y":return parseInt(String(E).slice(-2));case"YY":return h(String(E).slice(-2),2);case"YYY":return h(String(E).slice(-3),3);case"YYYY":return h(E,4);case"h":return S%12||12;case"hh":return h(S%12||12,2);case"H":return S;case"HH":return h(S,2);case"m":return x;case"mm":return h(x,2);case"s":return T;case"ss":return h(T,2);case"f":return String(N).slice(0,1);case"ff":return h(String(N).slice(0,2),2);case"fff":return h(String(N).slice(0,3),3);case"t":return S<12?"a":"p";case"tt":return S<12?"am":"pm";case"T":return S<12?"A":"P";case"TT":return S<12?"AM":"PM";case"K":return m?"UTC":(String(u).match(s)||[""]).pop().replace(o,"");case"z":return(C>0?"-":"+")+Math.floor(Math.abs(C)/60);case"zz":return(C>0?"-":"+")+h(Math.floor(Math.abs(C)/60),2);case"zzz":return(C>0?"-":"+")+h(Math.floor(Math.abs(C)/60),2)+h(Math.abs(C)%60,2);default:return e.slice(1,e.length-1)}});return v}}();var N=function(e,t,n){if(e===null)return"";e=Number(e);var r=e<0?true:false;if(r)e*=-1;var i=n?n.decimalSeparator:".";var s=n?n.digitGroupSeparator:",";var o="";t=String(t);var u=1;var a;var f="";var l="";var c=-1;var p=[];var d=[];var v=0;var m=0;var g=0;var y=false;var b=0;l=t.match(/"[^"]*"|'[^']*'|[eE][+-]*[0]+|[,]+[.]|‰|./g);var w=null;for(var E=0;l&&E<l.length;E++){w=l[E];if(w==="."&&c<0){c=E;continue}else if(w==="%"){u*=100}else if(w==="‰"){u*=1e3;continue}else if(w[0]===","&&w[w.length-1]==="."){u/=Math.pow(1e3,w.length-1);c=E+w.length-1;continue}else if((w[0]==="E"||w[0]==="e")&&w[w.length-1]==="0"){y=true}if(c<0){p.push(w);if(w==="#"||w==="0")v++;else if(w===",")g++}else{d.push(w);if(w==="#"||w==="0")m++}}if(y){var S=Math.floor(e);b=(S===0?"":String(S)).length-v;u/=Math.pow(10,b)}e*=u;if(c<0)c=E;o=e.toFixed(m);var x=o.split(".");var T=(x[0]+"").split("");var N=(x[1]+"").split("");if(T&&T[0]==="0")T.shift();var C=0;var k=0;var L=0;var A=0;var O=0;while(p.length>0){w=p.pop();if(w==="#"||w==="0"){C++;if(C===v){var M=T;T=[];if(w==="0"){var _=v-k-(M?M.length:0);while(_>0){M.unshift("0");_--}}while(M.length>0){f=M.pop()+f;O++;if(O%A===0&&L===g&&M.length>0)f=s+f}if(r)f="-"+f}else{if(T.length>0){f=T.pop()+f;k++;O++}else if(w==="0"){f="0"+f;k++;O++}if(O%A===0&&L===g&&T.length>0)f=s+f}}else if((w[0]==="E"||w[0]==="e")&&w[w.length-1]==="0"&&/[eE][+-]*[0]+/.test(w)){if(b<0)w=w.replace("+","").replace("-","");else w=w.replace("-","");f+=w.replace(/[0]+/,function(e){return h(b,e.length)})}else{if(w===","){L++;A=O;O=0;if(T.length>0)f=s+f}else if(w.length>1&&(w[0]==='"'&&w[w.length-1]==='"'||w[0]==="'"&&w[w.length-1]==="'")){f=w.slice(1,w.length-1)+f}else f=w+f}}var D=0;var P="";var H=false;while(d.length>0){w=d.shift();if(w==="#"||w==="0"){if(N.length>0&&Number(N.join(""))!==0){P+=N.shift();H=true}else if(w==="0"){P+="0";H=true}}else if(w.length>1&&(w[0]==='"'&&w[w.length-1]==='"'||w[0]==="'"&&w[w.length-1]==="'")){P+=w.slice(1,w.length-1)}else if((w[0]==="E"||w[0]==="e")&&w[w.length-1]==="0"&&/[eE][+-]*[0]+/.test(w)){if(b<0)w=w.replace("+","").replace("-","");else w=w.replace("-","");P+=w.replace(/[0]+/,function(e){return h(b,e.length)})}else{P+=w}}f+=(H?i:"")+P;return f};var k=function(e){var t=0;var n=0;e=e||window.event;if(e.offsetX||e.offsetX===0){t=e.offsetX;n=e.offsetY}else if(e.layerX||e.layerX==0){t=e.layerX;n=e.layerY}else{t=e.pageX-e.target.offsetLeft;n=e.pageY-e.target.offsetTop}return{x:t,y:n}};var O=true;var M=window.devicePixelRatio||1;var _=1;var D=O?M/_:1;B.prototype.setOptions=function(t,r){if(!n[this._defaultsKey]){if(e&&window.console)console.log("defaults not set")}else{var i=n[this._defaultsKey];for(var s in i){if(t&&s in t)this[s]=t[s];else if(r&&s in r)this[s]=r[s];else this[s]=i[s]}}};B.prototype.updateOption=function(t){if(!n[this._defaultsKey]&&e&&window.console)console.log("defaults not set");var r=n[this._defaultsKey];var i=this._options.theme?this._options.theme:this.chart&&this.chart._options.theme?this.chart._options.theme:"theme1";var s={};var u=this[t];if(i&&o[i]&&o[i][this._defaultsKey])s=o[i][this._defaultsKey];if(t in r){if(t in this._options)u=this._options[t];else if(s&&t in s)u=s[t];else u=r[t]}if(u===this[t])return false;this[t]=u;return true};B.prototype.trackChanges=function(e){if(!this._options._oldOptions)this._options._oldOptions={};this._options._oldOptions[e]=this._options[e]};B.prototype.isBeingTracked=function(e){if(!this._options._oldOptions)this._options._oldOptions={};if(this._options._oldOptions[e])return true;else return false};B.prototype.hasOptionChanged=function(e){if(!this._options._oldOptions)this._options._oldOptions={};var t=!(this._options._oldOptions[e]===this._options[e]);return t};a(j,B);j.prototype._updateOptions=function(){var e=this;this.updateOption("width");this.updateOption("height");this.updateOption("theme");if(this.updateOption("colorSet"))this._selectedColorSet=typeof s[this.colorSet]!=="undefined"?s[this.colorSet]:s["colorSet1"];if(this.updateOption("backgroundColor")){try{if(this.canvas.style.background!==this.backgroundColor)this.canvas.style.background=this.backgroundColor}catch(t){}}this.updateOption("animationEnabled");if(this._options.zoomEnabled){if(!this._zoomButton){this._zoomButton=document.createElement("button");this._zoomButton.appendChild(document.createTextNode("Pan"));this._toolBar.appendChild(this._zoomButton);x(this._zoomButton,"click",function(){if(e.zoomEnabled){e.zoomEnabled=false;e.panEnabled=true;e._zoomButton.innerHTML=e._cultureInfo.zoomText}else{e.zoomEnabled=true;e.panEnabled=false;e._zoomButton.innerHTML=e._cultureInfo.panText}e.render()})}if(!this._resetButton){this._resetButton=document.createElement("button");this._resetButton.appendChild(document.createTextNode("Reset"));this._toolBar.appendChild(this._resetButton);x(this._resetButton,"click",function(){e._toolTip.hide();if(e.zoomEnabled||e.panEnabled){e.zoomEnabled=true;e.panEnabled=false;e._zoomButton.innerHTML=e._cultureInfo.panText;e._defaultCursor="default";e.overlaidCanvas.style.cursor=e._defaultCursor}else{e.zoomEnabled=false;e.panEnabled=false}if(e._options.axisX&&e._options.axisX.minimum)e.sessionVariables.axisX.internalMinimum=e._options.axisX.minimum;else e.sessionVariables.axisX.internalMinimum=null;if(e._options.axisX&&e._options.axisX.maximum)e.sessionVariables.axisX.internalMaximum=e._options.axisX.maximum;else e.sessionVariables.axisX.internalMaximum=null;e.resetOverlayedCanvas();e._toolBar.style.display="none";e.render()});this.overlaidCanvas.style.cursor=e._defaultCursor}if(!this.zoomEnabled&&!this.panEnabled){if(!this._zoomButton){this.zoomEnabled=true;this.panEnabled=false}else{if(e._zoomButton.innerHTML===e._cultureInfo.zoomText){this.panEnabled=true;this.zoomEnabled=false}else{this.zoomEnabled=true;this.panEnabled=false}e._toolBar.style.display="inline"}}}else{this.zoomEnabled=false;this.panEnabled=false}this.updateOption("culture");this._cultureInfo=new G(this,this._options.culture);if(this._toolBar.style.display!=="none"){var n=this.panEnabled?e._cultureInfo.zoomText:e._cultureInfo.panText;if(e._zoomButton.innerHTML!==n)e._zoomButton.innerHTML=n;if(e._resetButton.innerHTML!==e._cultureInfo.resetText)e._resetButton.innerHTML=e._cultureInfo.resetText}var r=this.updateOption("creditText");var i=this.updateOption("creditHref");if(this.renderCount===0||r||i){this._creditLink.setAttribute("href",this.creditHref);this._creditLink.innerHTML=this.creditText}if(this.creditHref&&this.creditText){if(!this._creditLink.parentElement)this._canvasJSContainer.appendChild(this._creditLink)}else if(this._creditLink.parentElement)this._canvasJSContainer.removeChild(this._creditLink);if(this._options.toolTip&&this._toolTip._options!==this._options.toolTip)this._toolTip._options=this._options.toolTip;this._toolTip.updateOption("enabled");this._toolTip.updateOption("shared");this._toolTip.updateOption("animationEnabled");this._toolTip.updateOption("borderColor");this._toolTip.updateOption("content")};j.prototype._updateSize=function(){var e=0;var t=0;if(this._options.width)e=this.width;else this.width=e=this._container.clientWidth>0?this._container.clientWidth:this.width;if(this._options.height)t=this.height;else this.height=t=this._container.clientHeight>0?this._container.clientHeight:this.height;if(this.canvas.width!==e*D||this.canvas.height!==t*D){P(this.canvas,e,t);P(this.overlaidCanvas,e,t);P(this._eventManager.ghostCanvas,e,t);return true}return false};j.prototype._initialize=function(){this.pieDoughnutClickHandler=null;if(this.animationRequestId)this.cancelRequestAnimFrame.call(window,this.animationRequestId);this._updateOptions();this._updateSize();this.ctx.clearRect(0,0,this.width,this.height);this.ctx.beginPath();this.axisX=null;this.axisY=null;this.axisY2=null;this._indexLabels=[];this._dataInRenderedOrder=[];this._events=[];if(this._eventManager)this._eventManager.reset();this.plotInfo={axisPlacement:null,axisXValueType:null,plotTypes:[]};this.layoutManager.reset();this.data=[];var e=0;for(var t=0;t<this._options.data.length;t++){e++;if(!(!this._options.data[t].type||j._supportedChartTypes.indexOf(this._options.data[t].type)>=0))continue;var n=new V(this,this._options.data[t],this.theme,e-1,++this._eventManager.lastObjectId);if(n.name===null)n.name="DataSeries "+e;if(n.color===null){if(this._options.data.length>1){n._colorSet=[this._selectedColorSet[n.index%this._selectedColorSet.length]];n.color=this._selectedColorSet[n.index%this._selectedColorSet.length]}else{if(n.type==="line"||n.type==="stepLine"||n.type==="spline"||n.type==="area"||n.type==="stepArea"||n.type==="splineArea"||n.type==="stackedArea"||n.type==="stackedArea100"){n._colorSet=[this._selectedColorSet[0]]}else n._colorSet=this._selectedColorSet}}else{n._colorSet=[n.color]}if(n.markerSize===null){if((n.type==="line"||n.type==="stepLine"||n.type==="spline")&&n.dataPoints&&n.dataPoints.length<this.width/16||n.type==="scatter"){n.markerSize=8}}if((n.type==="bubble"||n.type==="scatter")&&n.dataPoints){n.dataPoints.sort(m)}this.data.push(n);var r=n.axisPlacement;var i;if(r==="normal"){if(this.plotInfo.axisPlacement==="xySwapped"){i='You cannot combine "'+n.type+'" with bar chart'}else if(this.plotInfo.axisPlacement==="none"){i='You cannot combine "'+n.type+'" with pie chart'}else if(this.plotInfo.axisPlacement===null)this.plotInfo.axisPlacement="normal"}else if(r==="xySwapped"){if(this.plotInfo.axisPlacement==="normal"){i='You cannot combine "'+n.type+'" with line, area, column or pie chart'}else if(this.plotInfo.axisPlacement==="none"){i='You cannot combine "'+n.type+'" with pie chart'}else if(this.plotInfo.axisPlacement===null)this.plotInfo.axisPlacement="xySwapped"}else if(r=="none"){if(this.plotInfo.axisPlacement==="normal"){i='You cannot combine "'+n.type+'" with line, area, column or bar chart'}else if(this.plotInfo.axisPlacement==="xySwapped"){i='You cannot combine "'+n.type+'" with bar chart'}else if(this.plotInfo.axisPlacement===null)this.plotInfo.axisPlacement="none"}if(i&&window.console){window.console.log(i);return}}this._objectsInitialized=true};j._supportedChartTypes=["line","stepLine","spline","column","area","stepArea","splineArea","bar","bubble","scatter","stackedColumn","stackedColumn100","stackedBar","stackedBar100","stackedArea","stackedArea100","pie","doughnut"];if(!j._supportedChartTypes.indexOf){j._supportedChartTypes.indexOf=function(e){var t=this.length>>>0;var n=Number(arguments[1])||0;n=n<0?Math.ceil(n):Math.floor(n);if(n<0)n+=t;for(;n<t;n++){if(n in this&&this[n]===e)return n}return-1}}j.prototype.render=function(t){if(t)this._options=t;this._initialize();for(var n=0;n<this.data.length;n++){if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(!this.data[n].axisYType||this.data[n].axisYType==="primary"){if(!this.axisY){if(this.plotInfo.axisPlacement==="normal"){this.axisY=new $(this,this._options.axisY,"axisY","left")}else if(this.plotInfo.axisPlacement==="xySwapped"){this.axisY=new $(this,this._options.axisY,"axisY","bottom")}}this.data[n].axisY=this.axisY}else if(this.data[n].axisYType==="secondary"){if(!this.axisY2){if(this.plotInfo.axisPlacement==="normal"){this.axisY2=new $(this,this._options.axisY2,"axisY","right")}else if(this.plotInfo.axisPlacement==="xySwapped"){this.axisY2=new $(this,this._options.axisY2,"axisY","top")}}this.data[n].axisY=this.axisY2}if(!this.axisX){if(this.plotInfo.axisPlacement==="normal"){this.axisX=new $(this,this._options.axisX,"axisX","bottom")}else if(this.plotInfo.axisPlacement==="xySwapped"){this.axisX=new $(this,this._options.axisX,"axisX","left")}}this.data[n].axisX=this.axisX}}this._processData();if(this._options.title){this._title=new z(this,this._options.title);this._title.render()}this.legend=new W(this,this._options.legend,this.theme);for(var n=0;n<this.data.length;n++){if(this.data[n].showInLegend)this.legend.dataSeries.push(this.data[n])}this.legend.render();if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){var r=this.layoutManager.getFreeSpace();$.setLayoutAndRender(this.axisX,this.axisY,this.axisY2,this.plotInfo.axisPlacement,this.layoutManager.getFreeSpace())}else if(this.plotInfo.axisPlacement==="none"){this.preparePlotArea()}else{return}for(var n=0;n<this.plotInfo.plotTypes.length;n++){var i=this.plotInfo.plotTypes[n];for(var s=0;s<i.plotUnits.length;s++){var o=i.plotUnits[s];if(o.type==="line")this.renderLine(o);else if(o.type==="stepLine")this.renderStepLine(o);else if(o.type==="spline")this.renderSpline(o);else if(o.type==="column")this.renderColumn(o);else if(o.type==="bar")this.renderBar(o);else if(o.type==="area")this.renderArea(o);else if(o.type==="stepArea")this.renderStepArea(o);else if(o.type==="splineArea")this.renderSplineArea(o);else if(o.type==="stackedColumn")this.renderStackedColumn(o);else if(o.type==="stackedColumn100")this.renderStackedColumn100(o);else if(o.type==="stackedBar")this.renderStackedBar(o);else if(o.type==="stackedBar100")this.renderStackedBar100(o);else if(o.type==="stackedArea")this.renderStackedArea(o);else if(o.type==="stackedArea100")this.renderStackedArea100(o);else if(o.type==="bubble")this.renderBubble(o);else if(o.type==="scatter")this.renderScatter(o);else if(o.type==="pie")this.renderPie(o);else if(o.type==="doughnut")this.renderPie(o);for(var u=0;u<o.dataSeriesIndexes.length;u++){this._dataInRenderedOrder.push(this.data[o.dataSeriesIndexes[u]])}}}if(this._indexLabels.length>0)this.renderIndexLabels();this.attachPlotAreaEventHandlers();if(!this.zoomEnabled&&!this.panEnabled&&this._toolBar.style.display!=="none"){this._toolBar.style.display="none"}this._toolTip._updateToolTip();this.renderCount++;if(e){var a=this;setTimeout(function(){var e=document.getElementById("ghostCanvasCopy");if(e){P(e,a.width,a.height);var t=e.getContext("2d");t.drawImage(a._eventManager.ghostCanvas,0,0)}},2e3)}};j.prototype.attachPlotAreaEventHandlers=function(){this.attachEvent({context:this,chart:this,mousedown:this._plotAreaMouseDown,mouseup:this._plotAreaMouseUp,mousemove:this._plotAreaMouseMove,cursor:this.zoomEnabled?"col-resize":"move",cursor:this.panEnabled?"move":"default",capture:true,bounds:this.plotArea})};j.prototype.categoriseDataSeries=function(){var e="";for(var t=0;t<this.data.length;t++){e=this.data[t];if(!e.dataPoints||e.dataPoints.length===0||!e.visible)continue;if(j._supportedChartTypes.indexOf(e.type)>=0){var n=null;var r=false;var i=null;var s=false;for(var o=0;o<this.plotInfo.plotTypes.length;o++){if(this.plotInfo.plotTypes[o].type===e.type){r=true;var n=this.plotInfo.plotTypes[o];break}}if(!r){n={type:e.type,totalDataSeries:0,plotUnits:[]};this.plotInfo.plotTypes.push(n)}for(var o=0;o<n.plotUnits.length;o++){if(n.plotUnits[o].axisYType===e.axisYType){s=true;var i=n.plotUnits[o];break}}if(!s){i={type:e.type,previousDataSeriesCount:0,index:n.plotUnits.length,plotType:n,axisYType:e.axisYType,axisY:e.axisYType==="primary"?this.axisY:this.axisY2,axisX:this.axisX,dataSeriesIndexes:[]};n.plotUnits.push(i)}n.totalDataSeries++;i.dataSeriesIndexes.push(t)}}for(var t=0;t<this.plotInfo.plotTypes.length;t++){var n=this.plotInfo.plotTypes[t];var u=0;for(var o=0;o<n.plotUnits.length;o++){n.plotUnits[o].previousDataSeriesCount=u;u+=n.plotUnits[o].dataSeriesIndexes.length}}};j.prototype.assignIdToDataPoints=function(){for(var e=0;e<this.data.length;e++){var t=this.data[e];if(!t.dataPoints)continue;var n=t.dataPoints.length;for(var r=0;r<n;r++){t.dataPointIds[r]=++this._eventManager.lastObjectId}}};j.prototype._processData=function(){this.assignIdToDataPoints();this.categoriseDataSeries();for(var e=0;e<this.plotInfo.plotTypes.length;e++){var t=this.plotInfo.plotTypes[e];for(var n=0;n<t.plotUnits.length;n++){var r=t.plotUnits[n];if(r.type==="line"||r.type==="stepLine"||r.type==="spline"||r.type==="column"||r.type==="area"||r.type==="stepArea"||r.type==="splineArea"||r.type==="bar"||r.type==="bubble"||r.type==="scatter")this._processMultiseriesPlotUnit(r);else if(r.type==="stackedColumn"||r.type==="stackedBar"||r.type==="stackedArea")this._processStackedPlotUnit(r);else if(r.type==="stackedColumn100"||r.type==="stackedBar100"||r.type==="stackedArea100")this._processStacked100PlotUnit(r)}}};j.prototype._processMultiseriesPlotUnit=function(e){if(!e.dataSeriesIndexes||e.dataSeriesIndexes.length<1)return;var t=e.axisY.dataInfo;var n=e.axisX.dataInfo;var r,i;var s=false;for(var o=0;o<e.dataSeriesIndexes.length;o++){var u=this.data[e.dataSeriesIndexes[o]];var a=0;var f=false;var l=false;if(u.axisPlacement==="normal"||u.axisPlacement==="xySwapped"){var c=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity;var h=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity}if(u.dataPoints[a].x&&u.dataPoints[a].x.getTime||u.xValueType==="dateTime"){s=true}for(a=0;a<u.dataPoints.length;a++){if(typeof u.dataPoints[a].x==="undefined"){u.dataPoints[a].x=a}if(u.dataPoints[a].x.getTime){s=true;r=u.dataPoints[a].x.getTime()}else r=u.dataPoints[a].x;i=u.dataPoints[a].y;if(r<n.min)n.min=r;if(r>n.max)n.max=r;if(i<t.min)t.min=i;if(i>t.max)t.max=i;if(a>0){var p=r-u.dataPoints[a-1].x;p<0&&(p=p*-1);if(n.minDiff>p&&p!==0){n.minDiff=p}}if(r<c&&!f){continue}else if(!f){f=true;if(a>0){a-=2;continue}}if(r>h&&!l){l=true}else if(r>h&&l){continue}if(u.dataPoints[a].label)e.axisX.labels[r]=u.dataPoints[a].label;if(r<n.viewPortMin)n.viewPortMin=r;if(r>n.viewPortMax)n.viewPortMax=r;if(i===null)continue;if(i<t.viewPortMin)t.viewPortMin=i;if(i>t.viewPortMax)t.viewPortMax=i}this.plotInfo.axisXValueType=u.xValueType=s?"dateTime":"number"}};j.prototype._processStackedPlotUnit=function(e){if(!e.dataSeriesIndexes||e.dataSeriesIndexes.length<1)return;var t=e.axisY.dataInfo;var n=e.axisX.dataInfo;var r,i;var s=false;var o=[];var u=[];for(var a=0;a<e.dataSeriesIndexes.length;a++){var f=this.data[e.dataSeriesIndexes[a]];var l=0;var c=false;var h=false;if(f.axisPlacement==="normal"||f.axisPlacement==="xySwapped"){var p=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity;var d=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity}if(f.dataPoints[l].x&&f.dataPoints[l].x.getTime||f.xValueType==="dateTime"){s=true}for(l=0;l<f.dataPoints.length;l++){if(typeof f.dataPoints[l].x==="undefined"){f.dataPoints[l].x=l}if(f.dataPoints[l].x.getTime){s=true;r=f.dataPoints[l].x.getTime()}else r=f.dataPoints[l].x;i=f.dataPoints[l].y;if(r<n.min)n.min=r;if(r>n.max)n.max=r;if(l>0){var v=r-f.dataPoints[l-1].x;v<0&&(v=v*-1);if(n.minDiff>v&&v!==0){n.minDiff=v}}if(r<p&&!c){continue}else if(!c){c=true;if(l>0){l-=2;continue}}if(r>d&&!h){h=true}else if(r>d&&h){continue}if(f.dataPoints[l].label)e.axisX.labels[r]=f.dataPoints[l].label;if(r<n.viewPortMin)n.viewPortMin=r;if(r>n.viewPortMax)n.viewPortMax=r;if(i===null)continue;if(i>=0){if(o[r])o[r]+=i;else o[r]=i}else{if(u[r])u[r]+=i;else u[r]=i}}this.plotInfo.axisXValueType=f.xValueType=s?"dateTime":"number"}for(l in o){if(isNaN(l)){continue}var m=o[l];if(m<t.min)t.min=m;if(m>t.max)t.max=m;if(l<n.viewPortMin||l>n.viewPortMax)continue;if(m<t.viewPortMin)t.viewPortMin=m;if(m>t.viewPortMax)t.viewPortMax=m}for(l in u){if(isNaN(l)){continue}var m=u[l];if(m<t.min)t.min=m;if(m>t.max)t.max=m;if(l<n.viewPortMin||l>n.viewPortMax)continue;if(m<t.viewPortMin)t.viewPortMin=m;if(m>t.viewPortMax)t.viewPortMax=m}};j.prototype._processStacked100PlotUnit=function(e){if(!e.dataSeriesIndexes||e.dataSeriesIndexes.length<1)return;var t=e.axisY.dataInfo;var n=e.axisX.dataInfo;var r,i;var s=false;var o=false;var u=false;var a=[];for(var f=0;f<e.dataSeriesIndexes.length;f++){var l=this.data[e.dataSeriesIndexes[f]];var c=0;var h=false;var p=false;if(l.axisPlacement==="normal"||l.axisPlacement==="xySwapped"){var d=this.sessionVariables.axisX.internalMinimum?this.sessionVariables.axisX.internalMinimum:this._options.axisX&&this._options.axisX.minimum?this._options.axisX.minimum:-Infinity;var v=this.sessionVariables.axisX.internalMaximum?this.sessionVariables.axisX.internalMaximum:this._options.axisX&&this._options.axisX.maximum?this._options.axisX.maximum:Infinity}if(l.dataPoints[c].x&&l.dataPoints[c].x.getTime||l.xValueType==="dateTime"){s=true}for(c=0;c<l.dataPoints.length;c++){if(typeof l.dataPoints[c].x==="undefined"){l.dataPoints[c].x=c}if(l.dataPoints[c].x.getTime){s=true;r=l.dataPoints[c].x.getTime()}else r=l.dataPoints[c].x;i=l.dataPoints[c].y;if(r<n.min)n.min=r;if(r>n.max)n.max=r;if(c>0){var m=r-l.dataPoints[c-1].x;m<0&&(m=m*-1);if(n.minDiff>m&&m!==0){n.minDiff=m}}if(r<d&&!h){continue}else if(!h){h=true;if(c>0){c-=2;continue}}if(r>v&&!p){p=true}else if(r>v&&p){continue}if(l.dataPoints[c].label)e.axisX.labels[r]=l.dataPoints[c].label;if(r<n.viewPortMin)n.viewPortMin=r;if(r>n.viewPortMax)n.viewPortMax=r;if(i===null)continue;if(i>=0){o=true}else{u=true}if(a[r])a[r]+=Math.abs(i);else a[r]=Math.abs(i)}this.plotInfo.axisXValueType=l.xValueType=s?"dateTime":"number"}if(o&&!u){t.max=99;t.min=1}else if(o&&u){t.max=99;t.min=-99}else if(!o&&u){t.max=-1;t.min=-99}t.viewPortMin=t.min;t.viewPortMax=t.max;e.dataPointYSums=a};j.prototype.getDataPointAtXY=function(e,t,n){n=n||false;var r=[];for(var i=this._dataInRenderedOrder.length-1;i>=0;i--){var s=this._dataInRenderedOrder[i];var o=null;o=s.getDataPointAtXY(e,t,n);if(o)r.push(o)}var u=null;var a=false;for(var f=0;f<r.length;f++){if(r[f].dataSeries.type==="line"||r[f].dataSeries.type==="stepLine"||r[f].dataSeries.type==="area"||r[f].dataSeries.type==="stepArea"){var l=A("markerSize",r[f].dataPoint,r[f].dataSeries)||8;if(r[f].distance<=l/2){a=true;break}}}for(f=0;f<r.length;f++){if(a&&r[f].dataSeries.type!=="line"&&r[f].dataSeries.type!=="stepLine"&&r[f].dataSeries.type!=="area"&&r[f].dataSeries.type!=="stepArea")continue;if(!u){u=r[f]}else if(r[f].distance<=u.distance){u=r[f]}}return u};j.prototype.getObjectAtXY=function(e,n,r){r=r||false;var i=null;var s=this.getDataPointAtXY(e,n,r);if(s){i=s.dataSeries.dataPointIds[s.dataPointIndex]}else if(t){i=C(e,n,this._eventManager.ghostCtx)}else{for(var o=0;o<this.legend.items.length;o++){var u=this.legend.items[o];if(e>=u.x1&&e<=u.x2&&n>=u.y1&&n<=u.y2){i=u.id}}}return i};j.prototype.getAutoFontSize=function(e,t,n){t=t||this.width;n=n||this.height;var r=e/400;return Math.round(Math.min(this.width,this.height)*r)};j.prototype.resetOverlayedCanvas=function(){this.overlaidCanvasCtx.clearRect(0,0,this.width,this.height)};j.prototype.attachEvent=function(e){this._events.push(e)};j.prototype._touchEventHandler=function(e){if(!e.changedTouches||!this.interactivityEnabled)return;var t=[];var n=e.changedTouches;var r=n?n[0]:e;var i=null;switch(e.type){case"touchstart":case"MSPointerDown":t=["mousemove","mousedown"];this._lastTouchData=k(r);this._lastTouchData.time=new Date;break;case"touchmove":case"MSPointerMove":t=["mousemove"];break;case"touchend":case"MSPointerUp":t=this._lastTouchEventType==="touchstart"||this._lastTouchEventType==="MSPointerDown"?["mouseup","click"]:["mouseup"];break;default:return}if(n&&n.length>1)return;i=k(r);i.time=new Date;try{var s=i.y-this._lastTouchData.y;var o=i.x-this._lastTouchData.x;var u=i.time-this._lastTouchData.time;if(Math.abs(s)>15&&(!!this._lastTouchData.scroll||u<200)){this._lastTouchData.scroll=true;var a=window.parent||window;if(a&&a.scrollBy)a.scrollBy(0,-s)}}catch(f){}this._lastTouchEventType=e.type;if(!!this._lastTouchData.scroll&&this.zoomEnabled){if(this.isDrag)this.resetOverlayedCanvas();this.isDrag=false;return}for(var l=0;l<t.length;l++){var c=t[l];var h=document.createEvent("MouseEvent");h.initMouseEvent(c,true,true,window,1,r.screenX,r.screenY,r.clientX,r.clientY,false,false,false,false,0,null);r.target.dispatchEvent(h);if(e.preventManipulation){e.preventManipulation()}if(e.preventDefault){e.preventDefault()}}};j.prototype._mouseEventHandler=function(t){if(!this.interactivityEnabled)return;if(t.preventManipulation){t.preventManipulation()}if(t.preventDefault){t.preventDefault()}if(typeof t.target==="undefined"&&t.srcElement)t.target=t.srcElement;var n=k(t);var r=t.type;var i;var s;if(!t)var o=window.event;if(t.which)s=t.which==3;else if(t.button)s=t.button==2;if(e&&window.console){window.console.log(r+" --> x: "+n.x+"; y:"+n.y);if(s)window.console.log(t.which);if(r==="mouseup")window.console.log("mouseup")}if(s)return;if(j.capturedEventParam){i=j.capturedEventParam;if(r==="mouseup"){j.capturedEventParam=null;if(i.chart.overlaidCanvas.releaseCapture)i.chart.overlaidCanvas.releaseCapture();else document.body.removeEventListener("mouseup",i.chart._mouseEventHandler,false)}if(i.hasOwnProperty(r))i[r].call(i.context,n.x,n.y)}else if(this._events){for(var u=0;u<this._events.length;u++){if(!this._events[u].hasOwnProperty(r))continue;i=this._events[u];var a=i.bounds;if(n.x>=a.x1&&n.x<=a.x2&&n.y>=a.y1&&n.y<=a.y2){i[r].call(i.context,n.x,n.y);if(r==="mousedown"&&i.capture===true){j.capturedEventParam=i;if(this.overlaidCanvas.setCapture)this.overlaidCanvas.setCapture();else{document.body.addEventListener("mouseup",this._mouseEventHandler,false)}}else if(r==="mouseup"){if(i.chart.overlaidCanvas.releaseCapture)i.chart.overlaidCanvas.releaseCapture();else document.body.removeEventListener("mouseup",this._mouseEventHandler,false)}break}else i=null}if(i&&i.cursor){t.target.style.cursor=i.cursor}else t.target.style.cursor=this._defaultCursor}if(this._toolTip&&this._toolTip.enabled){var f=this.plotArea;if(n.x<f.x1||n.x>f.x2||n.y<f.y1||n.y>f.y2)this._toolTip.hide()}if((!this.isDrag||!this.zoomEnabled)&&this._eventManager){this._eventManager.mouseEventHandler(t)}};j.prototype._plotAreaMouseDown=function(e,t){this.isDrag=true;if(this.plotInfo.axisPlacement!=="none"){this.dragStartPoint={x:e,y:t,xMinimum:this.axisX.minimum,xMaximum:this.axisX.maximum}}else{this.dragStartPoint={x:e,y:t}}};j.prototype._plotAreaMouseUp=function(e,t){if(this.plotInfo.axisPlacement==="normal"||this.plotInfo.axisPlacement==="xySwapped"){if(this.isDrag){var n=0;var r=0;var i=this.axisX.lineCoordinates;if(this.plotInfo.axisPlacement==="xySwapped"){n=t-this.dragStartPoint.y;r=Math.abs(this.axisX.maximum-this.axisX.minimum)/i.height*n}else{n=this.dragStartPoint.x-e;r=Math.abs(this.axisX.maximum-this.axisX.minimum)/i.width*n}if(Math.abs(n)>2){if(this.panEnabled){var s=false;var o=0;if(this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum){o=this.axisX._absoluteMinimum-this.axisX.sessionVariables.internalMinimum;this.axisX.sessionVariables.internalMinimum+=o;this.axisX.sessionVariables.internalMaximum+=o;s=true}else if(this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum){o=this.axisX.sessionVariables.internalMaximum-this.axisX._absoluteMaximum;this.axisX.sessionVariables.internalMaximum-=o;this.axisX.sessionVariables.internalMinimum-=o;s=true}if(s)this.render()}else if(this.zoomEnabled){this.resetOverlayedCanvas();if(!this.dragStartPoint)return;if(this.plotInfo.axisPlacement==="xySwapped"){var u={y1:Math.min(this.dragStartPoint.y,t),y2:Math.max(this.dragStartPoint.y,t)};if(Math.abs(u.y1-u.y2)>1){var i=this.axisX.lineCoordinates;var a=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/i.height*(u.y2-i.y1);var f=this.axisX.maximum-(this.axisX.maximum-this.axisX.minimum)/i.height*(u.y1-i.y1);a=Math.max(a,this.axisX.dataInfo.min);f=Math.min(f,this.axisX.dataInfo.max);if(Math.abs((f-a)/this.axisX.dataInfo.minDiff)>=4/500*this.height){this.axisX.sessionVariables.internalMinimum=a;this.axisX.sessionVariables.internalMaximum=f;this.render()}}}else if(this.plotInfo.axisPlacement==="normal"){var u={x1:Math.min(this.dragStartPoint.x,e),x2:Math.max(this.dragStartPoint.x,e)};if(Math.abs(u.x1-u.x2)>1){var i=this.axisX.lineCoordinates;var a=(this.axisX.maximum-this.axisX.minimum)/i.width*(u.x1-i.x1)+this.axisX.minimum;var f=(this.axisX.maximum-this.axisX.minimum)/i.width*(u.x2-i.x1)+this.axisX.minimum;a=Math.max(a,this.axisX.dataInfo.min);f=Math.min(f,this.axisX.dataInfo.max);if(Math.abs((f-a)/this.axisX.dataInfo.minDiff)>=5/500*this.width){this.axisX.sessionVariables.internalMinimum=a;this.axisX.sessionVariables.internalMaximum=f;this.render()}}}}if(this.zoomEnabled&&this._toolBar.style.display==="none"){this._toolBar.style.display="inline";this._zoomButton.innerHTML=this._cultureInfo.panText;this._resetButton.innerHTML=this._cultureInfo.resetText}}}}this.isDrag=false};j.prototype._plotAreaMouseMove=function(e,t){if(this.isDrag&&this.plotInfo.axisPlacement!=="none"){var n=0;var r=0;var i=this.axisX.lineCoordinates;if(this.plotInfo.axisPlacement==="xySwapped"){n=t-this.dragStartPoint.y;r=Math.abs(this.axisX.maximum-this.axisX.minimum)/i.height*n}else{n=this.dragStartPoint.x-e;r=Math.abs(this.axisX.maximum-this.axisX.minimum)/i.width*n}if(Math.abs(n)>2&&Math.abs(n)<8&&(this.panEnabled||this.zoomEnabled)){this._toolTip.hide()}else if(this._toolTip.enabled&&!this.panEnabled&&!this.zoomEnabled){this._toolTip.mouseMoveHandler(e,t)}if(Math.abs(n)>2&&(this.panEnabled||this.zoomEnabled)){if(this.panEnabled){this.axisX.sessionVariables.internalMinimum=this.dragStartPoint.xMinimum+r;this.axisX.sessionVariables.internalMaximum=this.dragStartPoint.xMaximum+r;var s=0;if(this.axisX.sessionVariables.internalMinimum<this.axisX._absoluteMinimum-c(this.axisX.interval,this.axisX.intervalType)){s=this.axisX._absoluteMinimum-c(this.axisX.interval,this.axisX.intervalType)-this.axisX.sessionVariables.internalMinimum;this.axisX.sessionVariables.internalMinimum+=s;this.axisX.sessionVariables.internalMaximum+=s}else if(this.axisX.sessionVariables.internalMaximum>this.axisX._absoluteMaximum+c(this.axisX.interval,this.axisX.intervalType)){s=this.axisX.sessionVariables.internalMaximum-(this.axisX._absoluteMaximum+c(this.axisX.interval,this.axisX.intervalType));this.axisX.sessionVariables.internalMaximum-=s;this.axisX.sessionVariables.internalMinimum-=s}var o=this;clearTimeout(this._panTimerId);this._panTimerId=setTimeout(function(){o.render()},0)}else if(this.zoomEnabled){var u=this.plotArea;this.resetOverlayedCanvas();var a=this.overlaidCanvasCtx.globalAlpha;this.overlaidCanvasCtx.globalAlpha=.7;this.overlaidCanvasCtx.fillStyle="#A0ABB8";if(this.plotInfo.axisPlacement==="xySwapped"){this.overlaidCanvasCtx.fillRect(u.x1,this.dragStartPoint.y,u.x2-u.x1,t-this.dragStartPoint.y)}else if(this.plotInfo.axisPlacement==="normal"){this.overlaidCanvasCtx.fillRect(this.dragStartPoint.x,u.y1,e-this.dragStartPoint.x,u.y2-u.y1)}this.overlaidCanvasCtx.globalAlpha=a}}}else if(this._toolTip.enabled)this._toolTip.mouseMoveHandler(e,t)};j.prototype.preparePlotArea=function(){var e=this.plotArea;var n=this.axisY?this.axisY:this.axisY2;if(!t&&(e.x1>0||e.y1>0)){e.ctx.translate(e.x1,e.y1)}if(this.axisX&&n){e.x1=this.axisX.lineCoordinates.x1<this.axisX.lineCoordinates.x2?this.axisX.lineCoordinates.x1:n.lineCoordinates.x1;e.y1=this.axisX.lineCoordinates.y1<n.lineCoordinates.y1?this.axisX.lineCoordinates.y1:n.lineCoordinates.y1;e.x2=this.axisX.lineCoordinates.x2>n.lineCoordinates.x2?this.axisX.lineCoordinates.x2:n.lineCoordinates.x2;e.y2=this.axisX.lineCoordinates.y2>this.axisX.lineCoordinates.y1?this.axisX.lineCoordinates.y2:n.lineCoordinates.y2;e.width=e.x2-e.x1;e.height=e.y2-e.y1}else{var r=this.layoutManager.getFreeSpace();e.x1=r.x1;e.x2=r.x2;e.y1=r.y1;e.y2=r.y2;e.width=r.width;e.height=r.height}if(!t){e.canvas.width=e.width;e.canvas.height=e.height;e.canvas.style.left=e.x1+"px";e.canvas.style.top=e.y1+"px";if(e.x1>0||e.y1>0){e.ctx.translate(-e.x1,-e.y1)}}};j.prototype.getPixelCoordinatesOnPlotArea=function(e,t){return{x:this.axisX.getPixelCoordinatesOnAxis(e).x,y:this.axisY.getPixelCoordinatesOnAxis(t).y}};j.prototype.renderIndexLabels=function(){var e=this.plotArea.ctx;e.textBaseline="middle";var t=this.plotArea;for(var n=0;n<this._indexLabels.length;n++){var r=this._indexLabels[n];var i,s,o;e.fillStyle=A("indexLabelFontColor",r.dataPoint,r.dataSeries);e.font=L("indexLabel",r.dataPoint,r.dataSeries);var u=this.replaceKeywordsWithValue(A("indexLabel",r.dataPoint,r.dataSeries),r.dataPoint,r.dataSeries);var a={width:e.measureText(u).width,height:A("indexLabelFontSize",r.dataPoint,r.dataSeries)};var f=A("indexLabelPlacement",r.dataPoint,r.dataSeries);var l=A("indexLabelOrientation",r.dataPoint,r.dataSeries);var o=0;var c=0;var h=0;var p=0;var d=0;if(r.point.x<t.x1||r.point.x>t.x2||r.point.y<t.y1||r.point.y>t.y2)continue;if(r.chartType==="column"||r.chartType==="stackedColumn"||r.chartType==="stackedColumn100"||r.chartType==="bar"||r.chartType==="stackedBar"||r.chartType==="stackedBar100"){var v=Math.abs(r.bounds.x1,r.bounds.x2);var m=Math.abs(r.bounds.y1,r.bounds.y2);if(this.plotInfo.axisPlacement==="normal"){if(f==="outside"){c=t.y1;h=t.y2}else if(f==="inside"){c=r.bounds.y1;h=r.bounds.y2}if(l==="horizontal"){i=r.point.x-a.width/2;if(r.dataPoint.y>=0)s=Math.min(Math.max(r.point.y-a.height/2-5,c+a.height/2+5),h-a.height/2-5);else s=Math.max(Math.min(r.point.y+a.height/2+5,h-a.height/2),c+a.height/2+5)}else if(l==="vertical"){i=r.point.x;if(r.dataPoint.y>=0)s=Math.min(Math.max(r.point.y-5,c+a.width+5),h);else s=Math.max(Math.min(r.point.y+a.width+5,h-5),c);o=-90}}else if(this.plotInfo.axisPlacement==="xySwapped"){if(f==="outside"){p=t.x1;d=t.x2}else if(f==="inside"){p=r.bounds.x1;d=r.bounds.x2}if(l==="horizontal"){s=r.point.y;if(r.dataPoint.y>=0)i=Math.max(Math.min(r.point.x+5,d-a.width),p);else i=Math.min(Math.max(r.point.x-a.width-5,p),d)}else if(l==="vertical"){s=r.point.y+a.width/2;if(r.dataPoint.y>=0)i=Math.max(Math.min(r.point.x+a.height/2+5,d-a.height/2),p);else i=Math.min(Math.max(r.point.x-a.height/2-5,p+a.height/2),d+a.height/2);o=-90}}}else{if(l==="horizontal"){i=r.point.x-a.width/2;if(r.dataPoint.y>=0)s=Math.max(r.point.y-a.height/2-5,t.y1+a.height/2);else s=Math.min(r.point.y+a.height/2+5,t.y2-a.height/2)}else if(l==="vertical"){i=r.point.x;if(r.dataPoint.y>=0)s=Math.max(r.point.y-5,t.y1+a.width);else s=Math.min(r.point.y+a.width+5,t.y2);o=-90}}e.save();e.translate(i,s);e.rotate(Math.PI/180*o);e.fillText(u,0,0);e.restore()}};j.prototype.renderLine=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=this._eventManager.ghostCtx;n.save();var s=this.plotArea;n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();var o=[];for(var u=0;u<e.dataSeriesIndexes.length;u++){var a=e.dataSeriesIndexes[u];var f=this.data[a];n.lineWidth=f.lineThickness;var l=f.dataPoints;var c=f.id;this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:a};var h=g(c);i.strokeStyle=h;i.lineWidth=f.lineThickness>0?Math.max(f.lineThickness,4):0;var p=f._colorSet;var d=p[0];n.strokeStyle=d;var v=true;var m=0,y,b;var w;n.beginPath();if(l.length>0){var E=false;for(m=0;m<l.length;m++){w=l[m].x.getTime?l[m].x.getTime():l[m].x;if(w<e.axisX.dataInfo.viewPortMin||w>e.axisX.dataInfo.viewPortMax)continue;if(typeof l[m].y!=="number"){if(m>0){n.stroke();if(t){i.stroke()}}E=true;continue}y=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(w-e.axisX.conversionParameters.minimum)+.5<<0;b=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(l[m].y-e.axisY.conversionParameters.minimum)+.5<<0;var S=f.dataPointIds[m];this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:a,dataPointIndex:m,x1:y,y1:b};if(v||E){n.beginPath();n.moveTo(y,b);if(t){i.beginPath();i.moveTo(y,b)}v=false;E=false}else{n.lineTo(y,b);if(t)i.lineTo(y,b);if(m%500==0){n.stroke();n.beginPath();n.moveTo(y,b);if(t){i.stroke();i.beginPath();i.moveTo(y,b)}}}if(l[m].markerSize>0||f.markerSize>0){var x=f.getMarkerProperties(m,y,b,n);o.push(x);if(!f.maxWidthInX||x.size>f.maxWidthInX){f.maxWidthInX=x.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}var T=g(S);if(t){o.push({x:y,y:b,ctx:i,type:x.type,size:x.size,color:T,borderColor:T,borderThickness:x.borderThickness})}}if(l[m].indexLabel||f.indexLabel){this._indexLabels.push({chartType:"line",dataPoint:l[m],dataSeries:f,point:{x:y,y:b},color:d})}}n.stroke();if(t)i.stroke()}}Y.drawMarkers(o);n.restore();n.beginPath();if(t)i.beginPath()};j.prototype.renderStepLine=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=this._eventManager.ghostCtx;n.save();var s=this.plotArea;n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();var o=[];for(var u=0;u<e.dataSeriesIndexes.length;u++){var a=e.dataSeriesIndexes[u];var f=this.data[a];n.lineWidth=f.lineThickness;var l=f.dataPoints;var c=f.id;this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:a};var h=g(c);i.strokeStyle=h;i.lineWidth=f.lineThickness>0?Math.max(f.lineThickness,4):0;var p=f._colorSet;var d=p[0];n.strokeStyle=d;var v=true;var m=0,y,b;var w;n.beginPath();if(l.length>0){var E=false;for(m=0;m<l.length;m++){w=l[m].getTime?l[m].x.getTime():l[m].x;if(w<e.axisX.dataInfo.viewPortMin||w>e.axisX.dataInfo.viewPortMax)continue;if(typeof l[m].y!=="number"){if(m>0){n.stroke();if(t){i.stroke()}}E=true;continue}var S=b;y=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(w-e.axisX.conversionParameters.minimum)+.5<<0;b=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(l[m].y-e.axisY.conversionParameters.minimum)+.5<<0;var x=f.dataPointIds[m];this._eventManager.objectMap[x]={id:x,objectType:"dataPoint",dataSeriesIndex:a,dataPointIndex:m,x1:y,y1:b};if(v||E){n.beginPath();n.moveTo(y,b);if(t){i.beginPath();i.moveTo(y,b)}v=false;E=false}else{n.lineTo(y,S);if(t)i.lineTo(y,S);n.lineTo(y,b);if(t)i.lineTo(y,b);if(m%500==0){n.stroke();n.beginPath();n.moveTo(y,b);if(t){i.stroke();i.beginPath();i.moveTo(y,b)}}}if(l[m].markerSize>0||f.markerSize>0){var T=f.getMarkerProperties(m,y,b,n);o.push(T);if(!f.maxWidthInX||T.size>f.maxWidthInX){f.maxWidthInX=T.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}var N=g(x);if(t){o.push({x:y,y:b,ctx:i,type:T.type,size:T.size,color:N,borderColor:N,borderThickness:T.borderThickness})}}if(l[m].indexLabel||f.indexLabel){this._indexLabels.push({chartType:"stepLine",dataPoint:l[m],dataSeries:f,point:{x:y,y:b},color:d})}}n.stroke();if(t)i.stroke()}}Y.drawMarkers(o);n.restore();n.beginPath();if(t)i.beginPath()};j.prototype.renderSpline=function(e){function N(e){var r=F(e,2);if(r.length>0){n.beginPath();if(t)i.beginPath();n.moveTo(r[0].x,r[0].y);if(t)i.moveTo(r[0].x,r[0].y);for(var s=0;s<r.length-3;s+=3){n.bezierCurveTo(r[s+1].x,r[s+1].y,r[s+2].x,r[s+2].y,r[s+3].x,r[s+3].y);if(t)i.bezierCurveTo(r[s+1].x,r[s+1].y,r[s+2].x,r[s+2].y,r[s+3].x,r[s+3].y);if(s>0&&s%3e3===0){n.stroke();n.beginPath();n.moveTo(r[s+3].x,r[s+3].y);if(t){i.stroke();i.beginPath();i.moveTo(r[s+3].x,r[s+3].y)}}}n.stroke();if(t)i.stroke()}}var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=this._eventManager.ghostCtx;n.save();var s=this.plotArea;n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();var o=[];for(var u=0;u<e.dataSeriesIndexes.length;u++){var a=e.dataSeriesIndexes[u];var f=this.data[a];n.lineWidth=f.lineThickness;var l=f.dataPoints;var c=f.id;this._eventManager.objectMap[c]={objectType:"dataSeries",dataSeriesIndex:a};var h=g(c);i.strokeStyle=h;i.lineWidth=f.lineThickness>0?Math.max(f.lineThickness,4):0;var p=f._colorSet;var d=p[0];n.strokeStyle=d;var v=true;var m=0,y,b;var w;var E=[];n.beginPath();if(l.length>0){for(m=0;m<l.length;m++){w=l[m].getTime?l[m].x.getTime():l[m].x;if(w<e.axisX.dataInfo.viewPortMin||w>e.axisX.dataInfo.viewPortMax)continue;if(typeof l[m].y!=="number"){if(m>0){N(E);E=[]}continue}y=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(w-e.axisX.conversionParameters.minimum)+.5<<0;b=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(l[m].y-e.axisY.conversionParameters.minimum)+.5<<0;var S=f.dataPointIds[m];this._eventManager.objectMap[S]={id:S,objectType:"dataPoint",dataSeriesIndex:a,dataPointIndex:m,x1:y,y1:b};E[E.length]={x:y,y:b};if(l[m].markerSize>0||f.markerSize>0){var x=f.getMarkerProperties(m,y,b,n);o.push(x);if(!f.maxWidthInX||x.size>f.maxWidthInX){f.maxWidthInX=x.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}var T=g(S);if(t){o.push({x:y,y:b,ctx:i,type:x.type,size:x.size,color:T,borderColor:T,borderThickness:x.borderThickness})}}if(l[m].indexLabel||f.indexLabel){this._indexLabels.push({chartType:"spline",dataPoint:l[m],dataSeries:f,point:{x:y,y:b},color:d})}}}N(E)}Y.drawMarkers(o);n.restore();n.beginPath();if(t)i.beginPath()};var I=function(e,t,n,r,i,s,o,u,a,f){var l=t,c=r,h=n,p=i,d,v;if(r-t>15&&i-n>15)var m=8;else var m=.35*Math.min(r-t,i-n);var g="rgba(255, 255, 255, .4)";var y="rgba(255, 255, 255, 0.1)";var b=s;e.beginPath();e.moveTo(t,n);e.save();e.fillStyle=b;e.fillRect(t,n,r-t,i-n);e.restore();if(o===true){e.save();e.beginPath();e.moveTo(t,n);e.lineTo(t+m,n+m);e.lineTo(r-m,n+m);e.lineTo(r,n);e.closePath();var w=e.createLinearGradient((r+t)/2,h+m,(r+t)/2,h);w.addColorStop(0,b);w.addColorStop(1,g);e.fillStyle=w;e.fill();e.restore()}if(u===true){e.save();e.beginPath();e.moveTo(t,i);e.lineTo(t+m,i-m);e.lineTo(r-m,i-m);e.lineTo(r,i);e.closePath();var w=e.createLinearGradient((r+t)/2,p-m,(r+t)/2,p);w.addColorStop(0,b);w.addColorStop(1,g);e.fillStyle=w;e.fill();e.restore()}if(a===true){e.save();e.beginPath();e.moveTo(t,n);e.lineTo(t+m,n+m);e.lineTo(t+m,i-m);e.lineTo(t,i);e.closePath();var w=e.createLinearGradient(l+m,(i+n)/2,l,(i+n)/2);w.addColorStop(0,b);w.addColorStop(1,y);e.fillStyle=w;e.fill();e.restore()}if(f===true){e.save();e.beginPath();e.moveTo(r,n);e.lineTo(r-m,n+m);e.lineTo(r-m,i-m);e.lineTo(r,i);var w=e.createLinearGradient(c-m,(i+n)/2,c,(i+n)/2);w.addColorStop(0,b);w.addColorStop(1,y);e.fillStyle=w;w.addColorStop(0,b);w.addColorStop(1,y);e.fillStyle=w;e.fill();e.closePath();e.restore()}};j.prototype.renderColumn=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=0,u,a;var f;var l=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var c=Math.min(this.width*.15,this.plotArea.width/e.plotType.totalDataSeries*.9)<<0;var h=e.axisX.dataInfo.minDiff;var p=s.width/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(h)/e.plotType.totalDataSeries*.9<<0;if(p>c)p=c;else if(h===Infinity){p=c}else if(p<1)p=1;n.save();if(t)this._eventManager.ghostCtx.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height);this._eventManager.ghostCtx.clip()}for(var d=0;d<e.dataSeriesIndexes.length;d++){var v=e.dataSeriesIndexes[d];var m=this.data[v];var y=m.dataPoints;var b=true;m.maxWidthInX=p/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit);if(y.length>0){var w=p>5&&m.bevelEnabled?true:false;for(o=0;o<y.length;o++){y[o].getTime?f=y[o].x.getTime():f=y[o].x;if(f<e.axisX.dataInfo.viewPortMin||f>e.axisX.dataInfo.viewPortMax){continue}if(typeof y[o].y!=="number")continue;u=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(f-e.axisX.conversionParameters.minimum)+.5<<0;a=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(y[o].y-e.axisY.conversionParameters.minimum)+.5<<0;var E=u-e.plotType.totalDataSeries*p/2+(e.previousDataSeriesCount+d)*p<<0;var S=E+p<<0;var x;var T;if(y[o].y>=0){x=a;T=l;if(x>T){var N=x;x=T;T=x}}else{T=a;x=l;if(x>T){var N=x;x=T;T=x}}i=y[o].color?y[o].color:m._colorSet[o%m._colorSet.length];I(n,E,x,S,T,i,w&&y[o].y>=0,y[o].y<0&&w,false,false);var C=m.dataPointIds[o];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:o,x1:E,y1:x,x2:S,y2:T};i=g(C);if(t)I(this._eventManager.ghostCtx,E,x,S,T,i,false,false,false,false);if(y[o].indexLabel||m.indexLabel){this._indexLabels.push({chartType:"column",dataPoint:y[o],dataSeries:m,point:{x:E+(S-E)/2,y:y[o].y>=0?x:T},bounds:{x1:E,y1:Math.min(x,T),x2:S,y2:Math.max(x,T)},color:i})}}}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderStackedColumn=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=[];var u=[];var a=0,f,l;var c;var h=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var p=this.width*.15<<0;var d=e.axisX.dataInfo.minDiff;var v=s.width/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(d)/e.plotType.plotUnits.length*.9<<0;if(v>p)v=p;else if(d===Infinity){v=p}else if(v<1)v=1;n.save();if(t)this._eventManager.ghostCtx.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height);this._eventManager.ghostCtx.clip()}for(var m=0;m<e.dataSeriesIndexes.length;m++){var y=e.dataSeriesIndexes[m];var b=this.data[y];var w=b.dataPoints;var E=true;b.maxWidthInX=v/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit);if(w.length>0){var S=v>5&&b.bevelEnabled?true:false;n.strokeStyle="#4572A7 ";for(a=0;a<w.length;a++){c=w[a].x.getTime?w[a].x.getTime():w[a].x;if(c<e.axisX.dataInfo.viewPortMin||c>e.axisX.dataInfo.viewPortMax){continue}if(typeof w[a].y!=="number")continue;f=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(c-e.axisX.conversionParameters.minimum)+.5<<0;l=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(w[a].y-e.axisY.conversionParameters.minimum)+.5<<0;var x=f-e.plotType.plotUnits.length*v/2+e.index*v<<0;var T=x+v<<0;var N;var C;if(w[a].y>=0){var k=o[c]?o[c]:0;N=l-k;C=h-k;o[c]=k+(C-N)}else{var k=u[c]?u[c]:0;C=l+k;N=h+k;u[c]=k+(C-N)}i=w[a].color?w[a].color:b._colorSet[a%b._colorSet.length];I(n,x,N,T,C,i,S&&w[a].y>=0,w[a].y<0&&S,false,false);var L=b.dataPointIds[a];this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:a,x1:x,y1:N,x2:T,y2:C};i=g(L);if(t)I(this._eventManager.ghostCtx,x,N,T,C,i,false,false,false,false);if(w[a].indexLabel||b.indexLabel){this._indexLabels.push({chartType:"stackedColumn",dataPoint:w[a],dataSeries:b,point:{x:f,y:w[a].y>=0?N:C},bounds:{x1:x,y1:Math.min(N,C),x2:T,y2:Math.max(N,C)},color:i})}}}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderStackedColumn100=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=[];var u=[];var a=0,f,l;var c;var h=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var p=this.width*.15<<0;var d=e.axisX.dataInfo.minDiff;var v=s.width/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(d)/e.plotType.plotUnits.length*.9<<0;if(v>p)v=p;else if(d===Infinity){v=p}else if(v<1)v=1;n.save();if(t)this._eventManager.ghostCtx.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height);this._eventManager.ghostCtx.clip()}for(var m=0;m<e.dataSeriesIndexes.length;m++){var y=e.dataSeriesIndexes[m];var b=this.data[y];var w=b.dataPoints;var E=true;b.maxWidthInX=v/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit);if(w.length>0){var S=v>5&&b.bevelEnabled?true:false;for(a=0;a<w.length;a++){c=w[a].x.getTime?w[a].x.getTime():w[a].x;if(c<e.axisX.dataInfo.viewPortMin||c>e.axisX.dataInfo.viewPortMax){continue}if(typeof w[a].y!=="number")continue;f=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(c-e.axisX.conversionParameters.minimum)+.5<<0;var x;if(e.dataPointYSums[c]!==0)x=w[a].y/e.dataPointYSums[c]*100;else x=0;l=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(x-e.axisY.conversionParameters.minimum)+.5<<0;var T=f-e.plotType.plotUnits.length*v/2+e.index*v<<0;var N=T+v<<0;var C;var k;if(w[a].y>=0){var L=o[c]?o[c]:0;C=l-L;k=h-L;o[c]=L+(k-C)}else{var L=u[c]?u[c]:0;k=l+L;C=h+L;u[c]=L+(k-C)}i=w[a].color?w[a].color:b._colorSet[a%b._colorSet.length];I(n,T,C,N,k,i,S&&w[a].y>=0,w[a].y<0&&S,false,false);var A=b.dataPointIds[a];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:a,x1:T,y1:C,x2:N,y2:k};i=g(A);if(t)I(this._eventManager.ghostCtx,T,C,N,k,i,false,false,false,false);if(w[a].indexLabel||b.indexLabel){this._indexLabels.push({chartType:"stackedColumn100",dataPoint:w[a],dataSeries:b,point:{x:f,y:w[a].y>=0?C:k},bounds:{x1:T,y1:Math.min(C,k),x2:N,y2:Math.max(C,k)},color:i})}}}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderBar=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=0,u,a;var f;var l=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var c=Math.min(this.height*.15,this.plotArea.height/e.plotType.totalDataSeries*.9)<<0;var h=e.axisX.dataInfo.minDiff;var p=s.height/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(h)/e.plotType.totalDataSeries*.9<<0;if(p>c)p=c;else if(h===Infinity){p=c}else if(p<1)p=1;n.save();if(t)this._eventManager.ghostCtx.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height);this._eventManager.ghostCtx.clip()}for(var d=0;d<e.dataSeriesIndexes.length;d++){var v=e.dataSeriesIndexes[d];var m=this.data[v];var y=m.dataPoints;var b=true;m.maxWidthInX=p/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit);if(y.length>0){var w=p>5&&m.bevelEnabled?true:false;n.strokeStyle="#4572A7 ";for(o=0;o<y.length;o++){y[o].getTime?f=y[o].x.getTime():f=y[o].x;if(f<e.axisX.dataInfo.viewPortMin||f>e.axisX.dataInfo.viewPortMax){continue}if(typeof y[o].y!=="number")continue;a=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(f-e.axisX.conversionParameters.minimum)+.5<<0;u=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(y[o].y-e.axisY.conversionParameters.minimum)+.5<<0;var E=a-e.plotType.totalDataSeries*p/2+(e.previousDataSeriesCount+d)*p<<0;var S=E+p<<0;var x;var T;if(y[o].y>=0){x=l;T=u}else{x=u;T=l}i=y[o].color?y[o].color:m._colorSet[o%m._colorSet.length];I(n,x,E,T,S,i,w,false,false,false);var N=m.dataPointIds[o];this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:o,x1:x,y1:E,x2:T,y2:S};i=g(N);if(t)I(this._eventManager.ghostCtx,x,E,T,S,i,false,false,false,false);this._indexLabels.push({chartType:"bar",dataPoint:y[o],dataSeries:m,point:{x:y[o].y>=0?T:x,y:E+(S-E)/2},bounds:{x1:Math.min(x,T),y1:E,x2:Math.max(x,T),y2:S},color:i})}}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderStackedBar=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=[];var u=[];var a=0,f,l;var c;var h=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var p=this.width*.15<<0;var d=e.axisX.dataInfo.minDiff;var v=s.height/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(d)/e.plotType.plotUnits.length*.9<<0;if(v>p)v=p;else if(d===Infinity){v=p}else if(v<1)v=1;n.save();if(t)this._eventManager.ghostCtx.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height);this._eventManager.ghostCtx.clip()}for(var m=0;m<e.dataSeriesIndexes.length;m++){var y=e.dataSeriesIndexes[m];var b=this.data[y];var w=b.dataPoints;var E=true;b.maxWidthInX=v/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit);if(w.length>0){var S=v>5&&b.bevelEnabled?true:false;n.strokeStyle="#4572A7 ";for(a=0;a<w.length;a++){c=w[a].x.getTime?w[a].x.getTime():w[a].x;if(c<e.axisX.dataInfo.viewPortMin||c>e.axisX.dataInfo.viewPortMax){continue}if(typeof w[a].y!=="number")continue;l=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(c-e.axisX.conversionParameters.minimum)+.5<<0;f=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(w[a].y-e.axisY.conversionParameters.minimum)+.5<<0;var x=l-e.plotType.plotUnits.length*v/2+e.index*v<<0;var T=x+v<<0;var N;var C;if(w[a].y>=0){var k=o[c]?o[c]:0;N=h+k;C=f+k;o[c]=k+(C-N)}else{var k=u[c]?u[c]:0;N=f-k;C=h-k;u[c]=k+(C-N)}i=w[a].color?w[a].color:b._colorSet[a%b._colorSet.length];I(n,N,x,C,T,i,S,false,false,false);var L=b.dataPointIds[a];this._eventManager.objectMap[L]={id:L,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:a,x1:N,y1:x,x2:C,y2:T};i=g(L);if(t)I(this._eventManager.ghostCtx,N,x,C,T,i,false,false,false,false);this._indexLabels.push({chartType:"stackedBar",dataPoint:w[a],dataSeries:b,point:{x:w[a].y>=0?C:N,y:l},bounds:{x1:Math.min(N,C),y1:x,x2:Math.max(N,C),y2:T},color:i})}}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderStackedBar100=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=[];var u=[];var a=0,f,l;var c;var h=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var p=this.width*.15<<0;var d=e.axisX.dataInfo.minDiff;var v=s.height/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(d)/e.plotType.plotUnits.length*.9<<0;if(v>p)v=p;else if(d===Infinity){v=p}else if(v<1)v=1;n.save();if(t)this._eventManager.ghostCtx.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height);this._eventManager.ghostCtx.clip()}for(var m=0;m<e.dataSeriesIndexes.length;m++){var y=e.dataSeriesIndexes[m];var b=this.data[y];var w=b.dataPoints;var E=true;b.maxWidthInX=v/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit);if(w.length>0){var S=v>5&&b.bevelEnabled?true:false;n.strokeStyle="#4572A7 ";for(a=0;a<w.length;a++){c=w[a].x.getTime?w[a].x.getTime():w[a].x;if(c<e.axisX.dataInfo.viewPortMin||c>e.axisX.dataInfo.viewPortMax){continue}if(typeof w[a].y!=="number")continue;l=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(c-e.axisX.conversionParameters.minimum)+.5<<0;var x;if(e.dataPointYSums[c]!==0)x=w[a].y/e.dataPointYSums[c]*100;else x=0;f=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(x-e.axisY.conversionParameters.minimum)+.5<<0;var T=l-e.plotType.plotUnits.length*v/2+e.index*v<<0;var N=T+v<<0;var C;var k;if(w[a].y>=0){var L=o[c]?o[c]:0;C=h+L;k=f+L;o[c]=L+(k-C)}else{var L=u[c]?u[c]:0;C=f-L;k=h-L;u[c]=L+(k-C)}i=w[a].color?w[a].color:b._colorSet[a%b._colorSet.length];I(n,C,T,k,N,i,S,false,false,false);var A=b.dataPointIds[a];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:a,x1:C,y1:T,x2:k,y2:N};i=g(A);if(t)I(this._eventManager.ghostCtx,C,T,k,N,i,false,false,false,false);this._indexLabels.push({chartType:"stackedBar100",dataPoint:w[a],dataSeries:b,point:{x:w[a].y>=0?k:C,y:l},bounds:{x1:Math.min(C,k),y1:T,x2:Math.max(C,k),y2:N},color:i})}}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderArea=function(e){function A(){if(!x)return;if(e.axisY.minimum<=0&&e.axisY.maximum>=0){S=E}else if(e.axisY.maximum<0)S=o.y1;else if(e.axisY.minimum>0)S=s.y2;n.lineTo(y,S);n.lineTo(x.x,S);n.closePath();n.fill();if(t){i.lineTo(y,S);i.lineTo(x.x,S);i.closePath();i.fill()}n.beginPath();n.moveTo(y,b);i.beginPath();i.moveTo(y,b);x={x:y,y:b}}var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=this._eventManager.ghostCtx;var s=e.axisX.lineCoordinates;var o=e.axisY.lineCoordinates;var u=[];var a=this.plotArea;n.save();if(t)i.save();n.beginPath();n.rect(a.x1,a.y1,a.width,a.height);n.clip();if(t){i.beginPath();i.rect(a.x1,a.y1,a.width,a.height);i.clip()}for(var f=0;f<e.dataSeriesIndexes.length;f++){var l=e.dataSeriesIndexes[f];var c=this.data[l];var h=c.dataPoints;var p=c.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:l};var d=g(p);i.fillStyle=d;u=[];var v=true;var m=0,y,b;var w;var E=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)+.5<<0;var S;var x=null;if(h.length>0){var T=c._colorSet[m%c._colorSet.length];n.fillStyle=T;var N=true;for(;m<h.length;m++){w=h[m].x.getTime?h[m].x.getTime():h[m].x;if(w<e.axisX.dataInfo.viewPortMin||w>e.axisX.dataInfo.viewPortMax){continue}if(typeof h[m].y!=="number"){A();N=true;continue}y=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(w-e.axisX.conversionParameters.minimum)+.5<<0;b=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(h[m].y-e.axisY.conversionParameters.minimum)+.5<<0;if(v||N){n.beginPath();n.moveTo(y,b);x={x:y,y:b};if(t){i.beginPath();i.moveTo(y,b)}v=false;N=false}else{n.lineTo(y,b);if(t)i.lineTo(y,b);if(m%250==0){A()}}var C=c.dataPointIds[m];this._eventManager.objectMap[C]={id:C,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:m,x1:y,y1:b};if(h[m].markerSize!==0){if(h[m].markerSize>0||c.markerSize>0){var k=c.getMarkerProperties(m,y,b,n);u.push(k);if(!c.maxWidthInX||k.size>c.maxWidthInX){c.maxWidthInX=k.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}var L=g(C);if(t){u.push({x:y,y:b,ctx:i,type:k.type,size:k.size,color:L,borderColor:L,borderThickness:k.borderThickness})}}}if(h[m].indexLabel||c.indexLabel){this._indexLabels.push({chartType:"area",dataPoint:h[m],dataSeries:c,point:{x:y,y:b},color:T})}}A();Y.drawMarkers(u)}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderSplineArea=function(e){function L(){var r=F(T,2);if(r.length>0){n.beginPath();n.moveTo(r[0].x,r[0].y);if(t){i.beginPath();i.moveTo(r[0].x,r[0].y)}for(var u=0;u<r.length-3;u+=3){n.bezierCurveTo(r[u+1].x,r[u+1].y,r[u+2].x,r[u+2].y,r[u+3].x,r[u+3].y);if(t)i.bezierCurveTo(r[u+1].x,r[u+1].y,r[u+2].x,r[u+2].y,r[u+3].x,r[u+3].y)}if(e.axisY.minimum<=0&&e.axisY.maximum>=0){S=E}else if(e.axisY.maximum<0)S=o.y1;else if(e.axisY.minimum>0)S=s.y2;x={x:r[0].x,y:r[0].y};n.lineTo(r[r.length-1].x,S);n.lineTo(x.x,S);n.closePath();n.fill();if(t){i.lineTo(r[r.length-1].x,S);i.lineTo(x.x,S);i.closePath();i.fill()}}}var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=this._eventManager.ghostCtx;var s=e.axisX.lineCoordinates;var o=e.axisY.lineCoordinates;var u=[];var a=this.plotArea;n.save();if(t)i.save();n.beginPath();n.rect(a.x1,a.y1,a.width,a.height);n.clip();if(t){i.beginPath();i.rect(a.x1,a.y1,a.width,a.height);i.clip()}for(var f=0;f<e.dataSeriesIndexes.length;f++){var l=e.dataSeriesIndexes[f];var c=this.data[l];var h=c.dataPoints;var p=c.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:l};var d=g(p);i.fillStyle=d;u=[];var v=true;var m=0,y,b;var w;var E=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)+.5<<0;var S;var x=null;var T=[];if(h.length>0){color=c._colorSet[m%c._colorSet.length];n.fillStyle=color;for(;m<h.length;m++){w=h[m].x.getTime?h[m].x.getTime():h[m].x;if(w<e.axisX.dataInfo.viewPortMin||w>e.axisX.dataInfo.viewPortMax){continue}if(typeof h[m].y!=="number"){if(m>0){L();T=[]}continue}y=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(w-e.axisX.conversionParameters.minimum)+.5<<0;b=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(h[m].y-e.axisY.conversionParameters.minimum)+.5<<0;var N=c.dataPointIds[m];this._eventManager.objectMap[N]={id:N,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:m,x1:y,y1:b};T[T.length]={x:y,y:b};if(h[m].markerSize!==0){if(h[m].markerSize>0||c.markerSize>0){var C=c.getMarkerProperties(m,y,b,n);u.push(C);if(!c.maxWidthInX||C.size>c.maxWidthInX){c.maxWidthInX=C.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}var k=g(N);if(t){u.push({x:y,y:b,ctx:i,type:C.type,size:C.size,color:k,borderColor:k,borderThickness:C.borderThickness})}}}if(h[m].indexLabel||c.indexLabel){this._indexLabels.push({chartType:"splineArea",dataPoint:h[m],dataSeries:c,point:{x:y,y:b},color:color})}}L();Y.drawMarkers(u)}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderStepArea=function(e){function O(){if(!x)return;if(e.axisY.minimum<=0&&e.axisY.maximum>=0){S=E}else if(e.axisY.maximum<0)S=o.y1;else if(e.axisY.minimum>0)S=s.y2;n.lineTo(y,S);n.lineTo(x.x,S);n.closePath();n.fill();if(t){i.lineTo(y,S);i.lineTo(x.x,S);i.closePath();i.fill()}n.beginPath();n.moveTo(y,b);i.beginPath();i.moveTo(y,b);x={x:y,y:b}}var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=this._eventManager.ghostCtx;var s=e.axisX.lineCoordinates;var o=e.axisY.lineCoordinates;var u=[];var a=this.plotArea;n.save();if(t)i.save();n.beginPath();n.rect(a.x1,a.y1,a.width,a.height);n.clip();if(t){i.beginPath();i.rect(a.x1,a.y1,a.width,a.height);i.clip()}for(var f=0;f<e.dataSeriesIndexes.length;f++){var l=e.dataSeriesIndexes[f];var c=this.data[l];var h=c.dataPoints;var p=c.id;this._eventManager.objectMap[p]={objectType:"dataSeries",dataSeriesIndex:l};var d=g(p);i.fillStyle=d;u=[];var v=true;var m=0,y,b;var w;var E=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)+.5<<0;var S;var x=null;var T=false;if(h.length>0){var N=c._colorSet[m%c._colorSet.length];n.fillStyle=N;for(;m<h.length;m++){w=h[m].x.getTime?h[m].x.getTime():h[m].x;if(w<e.axisX.dataInfo.viewPortMin||w>e.axisX.dataInfo.viewPortMax){continue}var C=b;if(typeof h[m].y!=="number"){O();T=true;continue}y=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(w-e.axisX.conversionParameters.minimum)+.5<<0;b=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(h[m].y-e.axisY.conversionParameters.minimum)+.5<<0;if(v||T){n.beginPath();n.moveTo(y,b);x={x:y,y:b};if(t){i.beginPath();i.moveTo(y,b)}v=false;T=false}else{n.lineTo(y,C);if(t)i.lineTo(y,C);n.lineTo(y,b);if(t)i.lineTo(y,b);if(m%250==0){if(e.axisY.minimum<=0&&e.axisY.maximum>=0){S=E}else if(e.axisY.maximum<0)S=o.y1;else if(e.axisY.minimum>0)S=s.y2;n.lineTo(y,S);n.lineTo(x.x,S);n.closePath();n.fill();n.beginPath();n.moveTo(y,b);if(t){i.lineTo(y,S);i.lineTo(x.x,S);i.closePath();i.fill();i.beginPath();i.moveTo(y,b)}x={x:y,y:b}}}var k=c.dataPointIds[m];this._eventManager.objectMap[k]={id:k,objectType:"dataPoint",dataSeriesIndex:l,dataPointIndex:m,x1:y,y1:b};if(h[m].markerSize!==0){if(h[m].markerSize>0||c.markerSize>0){var L=c.getMarkerProperties(m,y,b,n);u.push(L);if(!c.maxWidthInX||L.size>c.maxWidthInX){c.maxWidthInX=L.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}var A=g(k);if(t){u.push({x:y,y:b,ctx:i,type:L.type,size:L.size,color:A,borderColor:A,borderThickness:L.borderThickness})}}}if(h[m].indexLabel||c.indexLabel){this._indexLabels.push({chartType:"stepArea",dataPoint:h[m],dataSeries:c,point:{x:y,y:b},color:N})}}O();Y.drawMarkers(u)}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderStackedArea=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=[];var o=this.plotArea;var u=[];var a=[];var f=0,l,c;var h;var p=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var d=e.axisX.dataInfo.minDiff;var m=this._eventManager.ghostCtx;if(t)m.beginPath();n.save();if(t)m.save();n.beginPath();n.rect(o.x1,o.y1,o.width,o.height);n.clip();if(t){m.beginPath();m.rect(o.x1,o.y1,o.width,o.height);m.clip()}xValuePresent=[];for(var y=0;y<e.dataSeriesIndexes.length;y++){var b=e.dataSeriesIndexes[y];var w=this.data[b];var E=w.dataPoints;var S;w.dataPointIndexes=[];for(f=0;f<E.length;f++){S=E[f].x.getTime?E[f].x.getTime():E[f].x;w.dataPointIndexes[S]=f;if(!xValuePresent[S]){a.push(S);xValuePresent[S]=true}}a.sort(v)}for(var y=0;y<e.dataSeriesIndexes.length;y++){var b=e.dataSeriesIndexes[y];var w=this.data[b];var E=w.dataPoints;var x=true;var T=[];var N=w.id;this._eventManager.objectMap[N]={objectType:"dataSeries",dataSeriesIndex:b};var C=g(N);m.fillStyle=C;if(a.length>0){i=w._colorSet[0];n.fillStyle=i;for(f=0;f<a.length;f++){h=a[f];var k=null;if(w.dataPointIndexes[h]>=0)k=E[w.dataPointIndexes[h]];else k={x:h,y:0};if(h<e.axisX.dataInfo.viewPortMin||h>e.axisX.dataInfo.viewPortMax){continue}if(typeof k.y!=="number")continue;var l=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(h-e.axisX.conversionParameters.minimum)+.5<<0;var c=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(k.y-e.axisY.conversionParameters.minimum)+.5<<0;var L=u[h]?u[h]:0;c=c-L;T.push({x:l,y:p-L});u[h]=p-c;if(x){n.beginPath();n.moveTo(l,c);if(t){m.beginPath();m.moveTo(l,c)}x=false}else{n.lineTo(l,c);if(t)m.lineTo(l,c);if(f%250==0){while(T.length>0){var A=T.pop();n.lineTo(A.x,A.y);if(t)m.lineTo(A.x,A.y)}n.closePath();n.fill();n.beginPath();n.moveTo(l,c);if(t){m.closePath();m.fill();m.beginPath();m.moveTo(l,c)}T.push({x:l,y:p-L})}}if(w.dataPointIndexes[h]>=0){var O=w.dataPointIds[w.dataPointIndexes[h]];this._eventManager.objectMap[O]={id:O,objectType:"dataPoint",dataSeriesIndex:b,dataPointIndex:w.dataPointIndexes[h],x1:l,y1:c}}if(w.dataPointIndexes[h]>=0&&k.markerSize!==0){if(k.markerSize>0||w.markerSize>0){var M=w.getMarkerProperties(f,l,c,n);s.push(M);if(!w.maxWidthInX||M.size>w.maxWidthInX){w.maxWidthInX=M.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}markerColor=g(O);if(t){s.push({x:l,y:c,ctx:m,type:M.type,size:M.size,color:markerColor,borderColor:markerColor,borderThickness:M.borderThickness})}}}if(k.indexLabel||w.indexLabel){this._indexLabels.push({chartType:"stackedArea",dataPoint:k,dataSeries:w,point:{x:l,y:c},color:i})}}while(T.length>0){var A=T.pop();n.lineTo(A.x,A.y);if(t)m.lineTo(A.x,A.y)}n.closePath();n.fill();n.beginPath();n.moveTo(l,c);if(t){m.closePath();m.fill();m.beginPath();m.moveTo(l,c)}}delete w.dataPointIndexes}Y.drawMarkers(s);n.restore();if(t)m.restore()};j.prototype.renderStackedArea100=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=[];var u=[];var a=[];var f=0,l,c;var h;var p=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var d=this.width*.15<<0;var m=e.axisX.dataInfo.minDiff;var y=s.width/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(m)*.9<<0;var b=this._eventManager.ghostCtx;n.save();if(t)b.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){b.beginPath();b.rect(s.x1,s.y1,s.width,s.height);b.clip()}xValuePresent=[];for(var w=0;w<e.dataSeriesIndexes.length;w++){var E=e.dataSeriesIndexes[w];var S=this.data[E];var x=S.dataPoints;var T;S.dataPointIndexes=[];for(f=0;f<x.length;f++){T=x[f].x.getTime?x[f].x.getTime():x[f].x;S.dataPointIndexes[T]=f;if(!xValuePresent[T]){a.push(T);xValuePresent[T]=true}}a.sort(v)}for(var w=0;w<e.dataSeriesIndexes.length;w++){var E=e.dataSeriesIndexes[w];var S=this.data[E];var x=S.dataPoints;var N=true;var C=S.id;this._eventManager.objectMap[C]={objectType:"dataSeries",dataSeriesIndex:E};var k=g(C);b.fillStyle=k;if(x.length==1)y=d;if(y<1)y=1;else if(y>d)y=d;var L=[];if(a.length>0){i=S._colorSet[f%S._colorSet.length];n.fillStyle=i;var A=y>5?false:false;for(f=0;f<a.length;f++){h=a[f];var O=null;if(S.dataPointIndexes[h]>=0)O=x[S.dataPointIndexes[h]];else O={x:h,y:0};if(h<e.axisX.dataInfo.viewPortMin||h>e.axisX.dataInfo.viewPortMax){continue}if(typeof O.y!=="number")continue;var M;if(e.dataPointYSums[h]!==0)M=O.y/e.dataPointYSums[h]*100;else M=0;var l=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(h-e.axisX.conversionParameters.minimum)+.5<<0;var c=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(M-e.axisY.conversionParameters.minimum)+.5<<0;var _=u[h]?u[h]:0;c=c-_;L.push({x:l,y:p-_});u[h]=p-c;if(N){n.beginPath();n.moveTo(l,c);if(t){b.beginPath();b.moveTo(l,c)}N=false}else{n.lineTo(l,c);if(t)b.lineTo(l,c);if(f%250==0){while(L.length>0){var D=L.pop();n.lineTo(D.x,D.y);if(t)b.lineTo(D.x,D.y)}n.closePath();n.fill();n.beginPath();n.moveTo(l,c);if(t){b.closePath();b.fill();b.beginPath();b.moveTo(l,c)}L.push({x:l,y:p-_})}}if(S.dataPointIndexes[h]>=0){var P=S.dataPointIds[S.dataPointIndexes[h]];this._eventManager.objectMap[P]={id:P,objectType:"dataPoint",dataSeriesIndex:E,dataPointIndex:S.dataPointIndexes[h],x1:l,y1:c}}if(S.dataPointIndexes[h]>=0&&O.markerSize!==0){if(O.markerSize>0||S.markerSize>0){var H=S.getMarkerProperties(f,l,c,n);o.push(H);if(!S.maxWidthInX||H.size>S.maxWidthInX){S.maxWidthInX=H.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}markerColor=g(P);if(t){o.push({x:l,y:c,ctx:b,type:H.type,size:H.size,color:markerColor,borderColor:markerColor,borderThickness:H.borderThickness})}}}if(O.indexLabel||S.indexLabel){this._indexLabels.push({chartType:"stackedArea100",dataPoint:O,dataSeries:S,point:{x:l,y:c},color:i})}}while(L.length>0){var D=L.pop();n.lineTo(D.x,D.y);if(t)b.lineTo(D.x,D.y)}n.closePath();n.fill();n.beginPath();n.moveTo(l,c);if(t){b.closePath();b.fill();b.beginPath();b.moveTo(l,c)}}delete S.dataPointIndexes}Y.drawMarkers(o);n.restore();if(t)b.restore()};j.prototype.renderBubble=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=0,u,a;var f;var l=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var c=this.width*.15<<0;var h=e.axisX.dataInfo.minDiff;var p=s.width/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(h)/r*.9<<0;n.save();if(t)this._eventManager.ghostCtx.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height);this._eventManager.ghostCtx.clip()}var d=-Infinity;var v=Infinity;for(var m=0;m<e.dataSeriesIndexes.length;m++){var y=e.dataSeriesIndexes[m];var b=this.data[y];var w=b.dataPoints;var E=0;for(var o=0;o<w.length;o++){f=w[o].getTime?f=w[o].x.getTime():f=w[o].x;if(f<e.axisX.dataInfo.viewPortMin||f>e.axisX.dataInfo.viewPortMax){continue}if(typeof w[o].z!=="undefined"){E=w[o].z;if(E>d)d=E;if(E<v)v=E}}}var S=Math.PI*5*5;var x=Math.max(Math.pow(Math.min(s.height,s.width)*.25/2,2)*Math.PI,S);for(var m=0;m<e.dataSeriesIndexes.length;m++){var y=e.dataSeriesIndexes[m];var b=this.data[y];var w=b.dataPoints;var T=true;if(w.length==1)p=c;if(p<1)p=1;else if(p>c)p=c;if(w.length>0){n.strokeStyle="#4572A7 ";for(var o=0;o<w.length;o++){f=w[o].getTime?f=w[o].x.getTime():f=w[o].x;if(f<e.axisX.dataInfo.viewPortMin||f>e.axisX.dataInfo.viewPortMax){continue}if(typeof w[o].y!=="number")continue;u=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(f-e.axisX.conversionParameters.minimum)+.5<<0;a=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(w[o].y-e.axisY.conversionParameters.minimum)+.5<<0;var E=w[o].z;var N=d===v?x/2:S+(x-S)/(d-v)*(E-v);var C=Math.max(Math.sqrt(N/Math.PI)<<0,1);var k=C*2;var L=b.getMarkerProperties(o,n);L.size=k;Y.drawMarker(u,a,n,L.type,L.size,L.color,L.borderColor,L.borderThickness);if(!b.maxWidthInX||L.size>b.maxWidthInX){b.maxWidthInX=L.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}var A=b.dataPointIds[o];this._eventManager.objectMap[A]={id:A,objectType:"dataPoint",dataSeriesIndex:y,dataPointIndex:o,x1:u,y1:a,size:k};var O=g(A);if(t)Y.drawMarker(u,a,this._eventManager.ghostCtx,L.type,L.size,O,O,L.borderThickness)}}}n.restore();if(t)this._eventManager.ghostCtx.restore()};j.prototype.renderScatter=function(e){var n=this.plotArea.ctx;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=null;var s=this.plotArea;var o=0,u,a;var f;var l=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(0-e.axisY.conversionParameters.minimum)<<0;var c=this.width*.15<<0;var h=e.axisX.dataInfo.minDiff;var p=s.width/Math.abs(e.axisX.maximum-e.axisX.minimum)*Math.abs(h)/r*.9<<0;n.save();if(t)this._eventManager.ghostCtx.save();n.beginPath();n.rect(s.x1,s.y1,s.width,s.height);n.clip();if(t){this._eventManager.ghostCtx.rect(s.x1,s.y1,s.width,s.height);this._eventManager.ghostCtx.clip()}for(var d=0;d<e.dataSeriesIndexes.length;d++){var v=e.dataSeriesIndexes[d];var m=this.data[v];var y=m.dataPoints;var b=true;if(y.length==1)p=c;if(p<1)p=1;else if(p>c)p=c;if(y.length>0){n.strokeStyle="#4572A7 ";var w=Math.pow(Math.min(s.height,s.width)*.3/2,2)*Math.PI;var E=0;var S=0;for(var o=0;o<y.length;o++){f=y[o].getTime?f=y[o].x.getTime():f=y[o].x;if(f<e.axisX.dataInfo.viewPortMin||f>e.axisX.dataInfo.viewPortMax){continue}if(typeof y[o].y!=="number")continue;u=e.axisX.conversionParameters.reference+e.axisX.conversionParameters.pixelPerUnit*(f-e.axisX.conversionParameters.minimum)+.5<<0;a=e.axisY.conversionParameters.reference+e.axisY.conversionParameters.pixelPerUnit*(y[o].y-e.axisY.conversionParameters.minimum)+.5<<0;var x=m.getMarkerProperties(o,u,a,n);Y.drawMarker(x.x,x.y,x.ctx,x.type,x.size,x.color,x.color,x.thickness);if(!m.maxWidthInX||x.size>m.maxWidthInX){m.maxWidthInX=x.size/(e.axisX.conversionParameters.pixelPerUnit>1?e.axisX.conversionParameters.pixelPerUnit-1:e.axisX.conversionParameters.pixelPerUnit)}if(Math.sqrt((E-u)*(E-u)+(S-a)*(S-a))<Math.min(x.size,5)){continue}var T=m.dataPointIds[o];this._eventManager.objectMap[T]={id:T,objectType:"dataPoint",dataSeriesIndex:v,dataPointIndex:o,x1:u,y1:a};var N=g(T);if(t){Y.drawMarker(x.x,x.y,this._eventManager.ghostCtx,x.type,x.size,N,N,x.borderThickness)}E=u;S=a}}}n.restore();if(t)this._eventManager.ghostCtx.restore()};var q=function(e,t,n,r,i,s,o){e.save();if(i==="pie"){e.beginPath();e.moveTo(t.x,t.y);e.arc(t.x,t.y,n,s,o,false);e.fillStyle=r;e.strokeStyle="white";e.lineWidth=2;e.closePath();e.fill()}else if(i==="doughnut"){var u=.6;e.beginPath();e.arc(t.x,t.y,n,s,o,false);e.arc(t.x,t.y,u*n,o,s,true);e.closePath();e.fillStyle=r;e.strokeStyle="white";e.lineWidth=2;e.fill()}e.restore()};j.prototype.renderPie=function(e){function E(e){e=e||1;l.frame=0;l.maxFrames=e}function S(){if(!s||!o)return;var e=0;for(var t=0;t<o.length;t++){e+=Math.abs(o[t].y)}var r=0;var i=0;var u=0;var f=0;for(t=0;t<o.length;t++){var l=o[t];var h=s.dataPointIds[t];var p={id:h,objectType:"dataPoint",dataPointIndex:t,dataSeriesIndex:0};c.push(p);var v=l.indexLabel?l.indexLabel:s.indexLabel?s.indexLabel:l.label?l.label:s.label?s.label:"";n._eventManager.objectMap[h]=p;p.center={x:m.x,y:m.y};p.y=l.y;p.radius=g;p.indexLabelText=n.replaceKeywordsWithValue(v,l,s,t);p.indexLabelPlacement=s.indexLabelPlacement;p.indexLabelLineColor=l.indexLabelLineColor?l.indexLabelLineColor:s.indexLabelLineColor?s.indexLabelLineColor:l.color?l.color:s._colorSet[t%s._colorSet.length];p.indexLabelLineThickness=l.indexLabelLineThickness?l.indexLabelLineThickness:s.indexLabelLineThickness;p.indexLabelFontColor=l.indexLabelFontColor?l.indexLabelFontColor:s.indexLabelFontColor;p.indexLabelFontStyle=l.indexLabelFontStyle?l.indexLabelFontStyle:s.indexLabelFontStyle;p.indexLabelFontWeight=l.indexLabelFontWeight?l.indexLabelFontWeight:s.indexLabelFontWeight;p.indexLabelFontSize=l.indexLabelFontSize?l.indexLabelFontSize:s.indexLabelFontSize;p.indexLabelFontFamily=l.indexLabelFontFamily?l.indexLabelFontFamily:s.indexLabelFontFamily;p.indexLabelBackgroundColor=l.indexLabelBackgroundColor?l.indexLabelBackgroundColor:s.indexLabelBackgroundColor?s.indexLabelBackgroundColor:null;p.indexLabelMaxWidth=l.indexLabelMaxWidth?l.indexLabelMaxWidth:s.indexLabelMaxWidth?s.indexLabelMaxWidth:a.width*.33;p.indexLabelWrap=l.indexLabelWrap?l.indexLabelWrap:s.indexLabelWrap;p.startAngle=t===0?s.startAngle?s.startAngle/180*Math.PI:0:c[t-1].endAngle;p.startAngle=(p.startAngle+2*Math.PI)%(2*Math.PI);p.endAngle=p.startAngle+2*Math.PI/e*Math.abs(l.y);var y=(p.endAngle+p.startAngle)/2;y=(y+2*Math.PI)%(2*Math.PI);p.midAngle=y;if(p.midAngle>Math.PI/2-d&&p.midAngle<Math.PI/2+d){if(r===0||c[u].midAngle>p.midAngle)u=t;r++}else if(p.midAngle>3*Math.PI/2-d&&p.midAngle<3*Math.PI/2+d){if(i===0||c[f].midAngle>p.midAngle)f=t;i++}if(y>Math.PI/2&&y<=3*Math.PI/2)p.hemisphere="left";else p.hemisphere="right";p.indexLabelTextBlock=new U(n.plotArea.ctx,{fontSize:p.indexLabelFontSize,fontFamily:p.indexLabelFontFamily,fontColor:p.indexLabelFontColor,fontStyle:p.indexLabelFontStyle,fontWeight:p.indexLabelFontWeight,horizontalAlign:"left",backgroundColor:p.indexLabelBackgroundColor,maxWidth:p.indexLabelMaxWidth,maxHeight:p.indexLabelWrap?p.indexLabelFontSize*5:p.indexLabelFontSize*1.5,text:p.indexLabelText,padding:0,textBaseline:"top"});p.indexLabelTextBlock.measureText()}var b=0;var w=0;var E=false;for(t=0;t<o.length;t++){var p=c[(u+t)%o.length];if(r>1&&p.midAngle>Math.PI/2-d&&p.midAngle<Math.PI/2+d){if(b<=r/2&&!E){p.hemisphere="right";b++}else{p.hemisphere="left";E=true}}}E=false;for(t=0;t<o.length;t++){var p=c[(f+t)%o.length];if(i>1&&p.midAngle>3*Math.PI/2-d&&p.midAngle<3*Math.PI/2+d){if(w<=i/2&&!E){p.hemisphere="left";w++}else{p.hemisphere="right";E=true}}}}function x(){var e=n.plotArea.ctx;e.fillStyle="black";e.strokeStyle="grey";var t=16;e.textBaseline="middle";e.lineJoin="round";var r=0,i=0;for(r=0;r<o.length;r++){var a=c[r];if(!a.indexLabelText)continue;a.indexLabelTextBlock.y-=a.indexLabelTextBlock.height/2;var f=0;if(a.hemisphere==="left"){var f=s.indexLabelPlacement==="outside"?-(a.indexLabelTextBlock.width+u):-a.indexLabelTextBlock.width/2}else{var f=s.indexLabelPlacement==="outside"?u:-a.indexLabelTextBlock.width/2}a.indexLabelTextBlock.x+=f;a.indexLabelTextBlock.render(true);a.indexLabelTextBlock.x-=f;a.indexLabelTextBlock.y+=a.indexLabelTextBlock.height/2;if(a.indexLabelPlacement==="outside"){var l=a.center.x+g*Math.cos(a.midAngle);var h=a.center.y+g*Math.sin(a.midAngle);e.strokeStyle=a.indexLabelLineColor;e.lineWidth=a.indexLabelLineThickness;e.beginPath();e.moveTo(l,h);e.lineTo(a.indexLabelTextBlock.x,a.indexLabelTextBlock.y);e.lineTo(a.indexLabelTextBlock.x+(a.hemisphere==="left"?-u:u),a.indexLabelTextBlock.y);e.stroke()}e.lineJoin="miter"}}function T(){var e=n.plotArea.ctx;if(l!==null&&l.frame<l.maxFrames){if(l.frame===0)l.prevMaxAngle=c[0].startAngle;e.clearRect(a.x1,a.y1,a.width,a.height);var r=l.prevMaxAngle+2*Math.PI/l.maxFrames;for(var i=0;i<o.length;i++){var u=i===0?c[i].startAngle:f;var f=u+(c[i].endAngle-c[i].startAngle);var h=false;if(f>r){f=r;h=true}var p=o[i].color?o[i].color:s._colorSet[i%s._colorSet.length];if(f>u)q(n.plotArea.ctx,c[i].center,c[i].radius,p,s.type,u,f);if(h)break}l.frame++;l.prevMaxAngle=r;if(l.frame<l.maxFrames){n.animationRequestId=n.requestAnimFrame.call(window,T)}else{E(t?15:4);N()}}}function N(){var e=n.plotArea.ctx;var t=0;if(l!==null&&l.frame<l.maxFrames){e.clearRect(a.x1,a.y1,a.width,a.height);for(var r=0;r<o.length;r++){var i=c[r].startAngle;var u=c[r].endAngle;if(u>i){var f=g*.07*Math.cos(c[r].midAngle);var h=g*.07*Math.sin(c[r].midAngle);var p=false;if(o[r].exploded){if(Math.abs(c[r].center.x-(m.x+f))>Math.abs(.5*f/l.maxFrames)||Math.abs(c[r].center.y-(m.y+h))>Math.abs(.5*h/l.maxFrames)){c[r].center.x+=f/l.maxFrames;c[r].center.y+=h/l.maxFrames;p=true}}else if(Math.abs(c[r].center.x-m.x)>Math.abs(.5*f/l.maxFrames)||Math.abs(c[r].center.y-m.y)>Math.abs(.5*h/l.maxFrames)){c[r].center.x-=f/l.maxFrames;c[r].center.y-=h/l.maxFrames;p=true}if(p){var d={};d.dataSeries=s;d.dataPoint=s.dataPoints[r];d.index=r;n._toolTip.highlightObjects([d])}var v=o[r].color?o[r].color:s._colorSet[r%s._colorSet.length];q(n.plotArea.ctx,c[r].center,c[r].radius,v,s.type,i,u)}}l.frame++;x();if(l.frame<l.maxFrames){n.animationRequestId=n.requestAnimFrame.call(window,N)}}}function C(e,t){var n={x1:e.indexLabelTextBlock.x,y1:e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,x2:e.indexLabelTextBlock.x+e.indexLabelTextBlock.width,y2:e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2};var r={x1:t.indexLabelTextBlock.x,y1:t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,x2:t.indexLabelTextBlock.x+t.indexLabelTextBlock.width,y2:t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2};if(n.x2<r.x1-u||n.x1>r.x2+u||n.y1>r.y2+u||n.y2<r.y1-u)return false;return true}function k(e,t){var n=0;var r={y:e.indexLabelTextBlock.y,y1:e.indexLabelTextBlock.y-e.indexLabelTextBlock.height/2,y2:e.indexLabelTextBlock.y+e.indexLabelTextBlock.height/2};var i={y:t.indexLabelTextBlock.y,y1:t.indexLabelTextBlock.y-t.indexLabelTextBlock.height/2,y2:t.indexLabelTextBlock.y+t.indexLabelTextBlock.height/2};if(i.y>r.y){n=i.y1-r.y2}else{n=r.y1-i.y2}return n}function L(e){var t=null;for(var n=1;n<o.length;n++){t=(e+n+c.length)%c.length;if(c[t].hemisphere!==c[e].hemisphere){t=null;break}else if(c[t].indexLabelText&&t!==e&&(k(c[t],c[e])<0||(c[e].hemisphere==="right"?c[t].indexLabelTextBlock.y>=c[e].indexLabelTextBlock.y:c[t].indexLabelTextBlock.y<=c[e].indexLabelTextBlock.y)))break;else{t=null}}return t}function A(e){var t=null;for(var n=1;n<o.length;n++){t=(e-n+c.length)%c.length;if(c[t].hemisphere!==c[e].hemisphere){t=null;break}else if(c[t].indexLabelText&&c[t].hemisphere===c[e].hemisphere&&t!==e&&(k(c[t],c[e])<0||(c[e].hemisphere==="right"?c[t].indexLabelTextBlock.y<=c[e].indexLabelTextBlock.y:c[t].indexLabelTextBlock.y>=c[e].indexLabelTextBlock.y)))break;else{t=null}}return t}function O(e,t){t=t||0;var n=0;var r=m.y-b*1;var i=m.y+b*1;if(e>=0&&e<o.length){var s=c[e];if(t<0&&s.indexLabelTextBlock.y<r||t>0&&s.indexLabelTextBlock.y>i)return 0;var u=t;{var a=0;var l=0;var p=0;var y=0;var w=0;if(u<0){if(s.indexLabelTextBlock.y-s.indexLabelTextBlock.height/2>r&&s.indexLabelTextBlock.y-s.indexLabelTextBlock.height/2+u<r)u=-(r-(s.indexLabelTextBlock.y-s.indexLabelTextBlock.height/2+u))}else{if(s.indexLabelTextBlock.y+s.indexLabelTextBlock.height/2<r&&s.indexLabelTextBlock.y+s.indexLabelTextBlock.height/2+u>i)u=s.indexLabelTextBlock.y+s.indexLabelTextBlock.height/2+u-i}var E=s.indexLabelTextBlock.y+u;var S=0;if(s.hemisphere==="right"){S=m.x+Math.sqrt(Math.pow(b,2)-Math.pow(E-m.y,2))}else S=m.x-Math.sqrt(Math.pow(b,2)-Math.pow(E-m.y,2));l=m.x+g*Math.cos(s.midAngle);p=m.y+g*Math.sin(s.midAngle);a=Math.sqrt(Math.pow(S-l,2)+Math.pow(E-p,2));w=Math.acos(g/b);y=Math.acos((b*b+g*g-a*a)/(2*g*b));if(y<w){u=E-s.indexLabelTextBlock.y}else{u=0}}var x=A(e);var T=L(e);var N,C,k;var M=0;var _=0;if(u<0){C=s.hemisphere==="right"?x:T;n=u;if(C!==null){var D=-u;var k=s.indexLabelTextBlock.y-s.indexLabelTextBlock.height/2-(c[C].indexLabelTextBlock.y+c[C].indexLabelTextBlock.height/2);if(k-D<h){M=-D;f++;_=O(C,M);if(+_.toFixed(v)>+M.toFixed(v)){if(k>h)n=-(k-h);else n=-(D-(_-M))}}}}else if(u>0){C=s.hemisphere==="right"?T:x;n=u;if(C!==null){var D=u;var k=c[C].indexLabelTextBlock.y-c[C].indexLabelTextBlock.height/2-(s.indexLabelTextBlock.y+s.indexLabelTextBlock.height/2);if(k-D<h){M=D;f++;_=O(C,M);if(+_.toFixed(v)<+M.toFixed(v)){if(k>h)n=k-h;else n=D-(M-_)}}}}if(n){var P=s.indexLabelTextBlock.y+n;var H=0;if(s.hemisphere==="right"){H=m.x+Math.sqrt(Math.pow(b,2)-Math.pow(P-m.y,2))}else H=m.x-Math.sqrt(Math.pow(b,2)-Math.pow(P-m.y,2));if(s.midAngle>Math.PI/2-d&&s.midAngle<Math.PI/2+d){var B=(e-1+c.length)%c.length;var j=c[B];var F=c[(e+1+c.length)%c.length];if(s.hemisphere==="left"&&j.hemisphere==="right"&&H>j.indexLabelTextBlock.x){H=j.indexLabelTextBlock.x-15}else if(s.hemisphere==="right"&&F.hemisphere==="left"&&H<F.indexLabelTextBlock.x){H=F.indexLabelTextBlock.x+15}}else if(s.midAngle>3*Math.PI/2-d&&s.midAngle<3*Math.PI/2+d){var B=(e-1+c.length)%c.length;var j=c[B];var F=c[(e+1+c.length)%c.length];if(s.hemisphere==="right"&&j.hemisphere==="left"&&H<j.indexLabelTextBlock.x){H=j.indexLabelTextBlock.x+15}else if(s.hemisphere==="left"&&F.hemisphere==="right"&&H>F.indexLabelTextBlock.x){H=F.indexLabelTextBlock.x-15}}s.indexLabelTextBlock.y=P;s.indexLabelTextBlock.x=H;s.indexLabelAngle=Math.atan2(s.indexLabelTextBlock.y-m.y,s.indexLabelTextBlock.x-m.x)}}return n}function M(){var e=n.plotArea.ctx;e.fillStyle="grey";e.strokeStyle="grey";var r=16;e.font=r+"px Arial";e.textBaseline="middle";var i=0,f=0;var l=0;for(f=0;f<10&&(f<1||l>0);f++){g-=l;l=0;if(s.indexLabelPlacement==="outside"){b=g*p;for(i=0;i<o.length;i++){var d=c[i];d.indexLabelTextBlock.x=m.x+b*Math.cos(d.midAngle);d.indexLabelTextBlock.y=m.y+b*Math.sin(d.midAngle);d.indexLabelAngle=d.midAngle;d.radius=g}var y,w;for(i=0;i<o.length;i++){var d=c[i];var S=L(i);if(S===null)continue;y=c[i];w=c[S];var x=0;x=k(y,w)-h;if(x<0){var N=0;var A=0;for(var M=0;M<o.length;M++){if(M===i)continue;if(c[M].hemisphere!==d.hemisphere)continue;if(c[M].indexLabelTextBlock.y<d.indexLabelTextBlock.y)N++;else A++}var _=x/(N+A||1)*A;var D=-1*(x-_);var P=0;var H=0;if(d.hemisphere==="right"){P=O(i,_);D=-1*(x-P);H=O(S,D);if(+H.toFixed(v)<+D.toFixed(v)&&+P.toFixed(v)<=+_.toFixed(v))O(i,-(D-H))}else{P=O(S,_);D=-1*(x-P);H=O(i,D);if(+H.toFixed(v)<+D.toFixed(v)&&+P.toFixed(v)<=+_.toFixed(v))O(S,-(D-H))}}}}else{for(i=0;i<o.length;i++){var d=c[i];b=s.type==="pie"?g*.7:g*.8;var B=m.x+b*Math.cos(d.midAngle);var j=m.y+b*Math.sin(d.midAngle);d.indexLabelTextBlock.x=B;d.indexLabelTextBlock.y=j}}for(i=0;i<o.length;i++){d=c[i];var F=d.indexLabelTextBlock.measureText();var I=0;var q=0;if(d.hemisphere==="right"){I=a.x2-(d.indexLabelTextBlock.x+d.indexLabelTextBlock.width+u);I*=-1}else{I=a.x1-(d.indexLabelTextBlock.x-d.indexLabelTextBlock.width-u)}if(I>0){if(Math.abs(d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2-m.y)<g||Math.abs(d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2-m.y)<g){q=I/Math.abs(Math.cos(d.indexLabelAngle));if(q>9)q=q*.3;if(q>l)l=q}else{}}var R=0;var U=0;if(d.indexLabelAngle>0&&d.indexLabelAngle<Math.PI){R=a.y2-(d.indexLabelTextBlock.y+d.indexLabelTextBlock.height/2+5);R*=-1}else{R=a.y1-(d.indexLabelTextBlock.y-d.indexLabelTextBlock.height/2-5)}if(R>0){if(Math.abs(d.indexLabelTextBlock.x-m.x)<g){U=R/Math.abs(Math.sin(d.indexLabelAngle));if(U>9)U=U*.3;if(U>l)l=U}else{}}else{}}function z(e,t,n){var r=[];var i=0;for(var s=t;true;s=(s+1+o.length)%o.length){r.push(c[s]);if(s===n)break}r.sort(function(e,t){return e.y-t.y});for(s=0;s<r.length;s++){var u=r[s];if(i<e){i+=u.indexLabelTextBlock.height;u.indexLabelTextBlock.text="";u.indexLabelText="";u.indexLabelTextBlock.measureText()}else break}}var W=-1;var X=-1;var V=0;for(var M=0;M<o.length;M++){y=c[M];if(!y.indexLabelText)continue;var $=L(M);if($===null)continue;var w=c[$];x=0;x=k(y,w);if(x<0&&C(y,w)){if(W<0)W=M;if($!==W)X=$;V+=-x}else{if(V>0){z(V,W,X);W=-1;X=-1;V=0}}}if(V>0)z(V,W,X)}E(n.animationEnabled&&n.renderCount===0?t?60:30:1);T()}var n=this;var r=e.dataSeriesIndexes.length;if(r<=0)return;var i=e.dataSeriesIndexes[0];var s=this.data[i];var o=s.dataPoints;var u=10;var a=this.plotArea;var f=0;var l={frame:0,maxFrames:1};var c=[];var h=2;var p=1.3;var d=20/180*Math.PI;var v=6;var m={x:(a.x2+a.x1)/2,y:(a.y2+a.y1)/2};var g=s.indexLabelPlacement==="inside"?Math.min(a.width,a.height)*.95/2:Math.min(a.width,a.height)*.8/2;var y=g*.6;var b=g*p;var w=g;this.pieDoughnutClickHandler=function(e){if(l.frame!==l.maxFrames){return}var n=e.dataPointIndex;var r=e.dataPoint;var i=this;var s=i.dataPointIds[n];if(r.exploded)r.exploded=false;else r.exploded=true;E(t?15:4);if(i.dataPoints.length>1)N();return};S();M()};j.prototype.animationRequestId=null;j.prototype.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();j.prototype.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}();R.prototype.registerSpace=function(e,t){if(e==="top"){this._topOccupied+=t.height}else if(e==="bottom"){this._bottomOccupied+=t.height}else if(e==="left"){this._leftOccupied+=t.width}else if(e==="right"){this._rightOccupied+=t.width}};R.prototype.unRegisterSpace=function(e,t){if(e==="top"){this._topOccupied-=t.height}else if(e==="bottom"){this._bottomOccupied-=t.height}else if(e==="left"){this._leftOccupied-=t.width}else if(e==="right"){this._rightOccupied-=t.width}};R.prototype.getFreeSpace=function(){return{x1:this._leftOccupied,y1:this._topOccupied,x2:this.chart.width-this._rightOccupied,y2:this.chart.height-this._bottomOccupied,width:this.chart.width-this._rightOccupied-this._leftOccupied,height:this.chart.height-this._bottomOccupied-this._topOccupied}};R.prototype.reset=function(){this._topOccupied=0;this._bottomOccupied=3;this._leftOccupied=0;this._rightOccupied=0};a(U,B);U.prototype.render=function(e){if(e)this.ctx.save();var t=this.ctx.font;this.ctx.textBaseline=this.textBaseline;var n=0;if(this._isDirty)this.measureText(this.ctx);this.ctx.translate(this.x,this.y+n);if(this.textBaseline==="middle"){n=-this._lineHeight/2}this.ctx.font=this._getFontString();this.ctx.rotate(Math.PI/180*this.angle);var r=0;var i=this.padding;var s=null;if(this.borderThickness>0&&this.borderColor||this.backgroundColor){this.ctx.roundRect(0,n,this.width,this.height,this.cornerRadius,this.borderThickness,this.backgroundColor,this.borderColor)}this.ctx.fillStyle=this.fontColor;for(var o=0;o<this._wrappedText.lines.length;o++){s=this._wrappedText.lines[o];if(this.horizontalAlign==="right")r=this.width-s.width-this.padding;else if(this.horizontalAlign==="left")r=this.padding;else if(this.horizontalAlign==="center")r=(this.width-this.padding*2)/2-s.width/2+this.padding;this.ctx.fillText(s.text,r,i);i+=s.height}this.ctx.font=t;if(e)this.ctx.restore()};U.prototype.setText=function(e){this.text=e;this._isDirty=true;this._wrappedText=null};U.prototype.measureText=function(){if(this.maxWidth===null){throw"Please set maxWidth and height for TextBlock"}this._wrapText(this.ctx);this._isDirty=false;return{width:this.width,height:this.height}};U.prototype._getLineWithWidth=function(e,t,n){e=String(e);n=n||false;if(!e)return{text:"",width:0};var r=0,i=0,s=e.length-1,o=Infinity;this.ctx.font=this._getFontString();while(i<=s){o=Math.floor((i+s)/2);var u=e.substr(0,o+1);r=this.ctx.measureText(u).width;if(r<t){i=o+1}else if(r>t){s=o-1}else{break}}if(r>t&&u.length>1){u=u.substr(0,u.length-1);r=this.ctx.measureText(u).width}var a=true;if(u.length===e.length||e[u.length]===" ")a=false;if(a){var f=u.split(" ");if(f.length>1)f.pop();u=f.join(" ");r=this.ctx.measureText(u).width}return{text:u,width:r}};U.prototype._wrapText=function(){var t=new String(p(this.text));var n=[];var r=this.ctx.font;var i=0;var s=0;this.ctx.font=this._getFontString();while(t.length>0){var o=this.maxWidth-this.padding*2;var u=this.maxHeight-this.padding*2;var a=this._getLineWithWidth(t,o,false);a.height=this._lineHeight;n.push(a);s=Math.max(s,a.width);i+=a.height;t=p(t.slice(a.text.length,t.length));if(u&&i>u){var a=n.pop();i-=a.height}}this._wrappedText={lines:n,width:s,height:i};this.width=s+this.padding*2;this.height=i+this.padding*2;this.ctx.font=r};U.prototype._getFontString=function(){return L("",this,null)};a(z,B);z.prototype.render=function(){if(!this.text)return;var e=this.chart.layoutManager.getFreeSpace();var t=0;var n=0;var r=0;var i=0;var s=0;var o;var u;if(this.verticalAlign==="top"||this.verticalAlign==="bottom"){i=e.width-this.margin*2;s=e.height*.5-this.margin*2;r=0}else if(this.verticalAlign==="center"){if(this.horizontalAlign==="left"||this.horizontalAlign==="right"){i=e.height-this.margin*2;s=e.width*.5-this.margin*2}else if(this.horizontalAlign==="center"){i=e.width-this.margin*2;s=e.height*.5-this.margin*2}}var a=new U(this.ctx,{fontSize:this.fontSize,fontFamily:this.fontFamily,fontColor:this.fontColor,fontStyle:this.fontStyle,fontWeight:this.fontWeight,horizontalAlign:this.horizontalAlign,verticalAlign:this.verticalAlign,borderColor:this.borderColor,borderThickness:this.borderThickness,backgroundColor:this.backgroundColor,maxWidth:i,maxHeight:s,cornerRadius:this.cornerRadius,text:this.text,padding:this.padding,textBaseline:"top"});var f=a.measureText();if(this.verticalAlign==="top"||this.verticalAlign==="bottom"){if(this.verticalAlign==="top"){n=this.margin;u="top"}else if(this.verticalAlign==="bottom"){n=e.y2-this.margin-f.height;u="bottom"}if(this.horizontalAlign==="left"){t=e.x1+this.margin}else if(this.horizontalAlign==="center"){t=e.x1+(i/2-f.width/2)+this.margin}else if(this.horizontalAlign==="right"){t=e.x2-this.margin-f.width}o=this.horizontalAlign;this.width=f.width;this.height=f.height}else if(this.verticalAlign==="center"){if(this.horizontalAlign==="left"){t=e.x1+this.margin;n=e.y2-this.margin-(i/2-f.width/2);r=-90;u="left";this.width=f.height;this.height=f.width}else if(this.horizontalAlign==="right"){t=e.x2-this.margin;n=e.y1+this.margin+(i/2-f.width/2);r=90;u="right";this.width=f.height;this.height=f.width}else if(this.horizontalAlign==="center"){n=e.y1+(e.height/2-f.height/2);t=e.x1+(e.width/2-f.width/2);u="center";this.width=f.width;this.height=f.height}o="center"}a.x=t;a.y=n;a.angle=r;a.horizontalAlign=o;a.render(true);this.chart.layoutManager.registerSpace(u,{width:this.width+this.margin*2,height:this.height+this.margin*2});this.bounds={x1:t,y1:n,x2:t+this.width,y2:n+this.height};this.ctx.textBaseline="top"};a(W,B);W.prototype.render=function(){var e=this.chart.layoutManager.getFreeSpace();var t=null;var n=0;var r=0;var i=0;var s=0;var o=5;var u=[];var a=[];if(this.verticalAlign==="top"||this.verticalAlign==="bottom"){this.orientation="horizontal";t=this.verticalAlign;i=e.width*.9;s=e.height*.5}else if(this.verticalAlign==="center"){this.orientation="vertical";t=this.horizontalAlign;i=e.width*.5;s=e.height*.9}for(var f=0;f<this.dataSeries.length;f++){var l=this.dataSeries[f];var c=l.legendMarkerType?l.legendMarkerType:(l.type==="line"||l.type==="stepLine"||l.type==="spline"||l.type==="scatter"||l.type==="bubble")&&l.markerType?l.markerType:V.getDefaultLegendMarker(l.type);var h=l.legendText?l.legendText:l.name;var p=l.legendMarkerColor?l.legendMarkerColor:l.markerColor?l.markerColor:l._colorSet[0];var d=!l.markerSize&&(l.type==="line"||l.type==="stepLine"||l.type==="spline")?0:this.lineHeight*.6;var v=l._colorSet[0];if(l.type!=="pie"&&l.type!=="doughnut"){var m={markerType:c,markerColor:p,text:h,textBlock:null,chartType:l.type,markerSize:d,lineColor:l._colorSet[0],dataSeriesIndex:f,dataPointIndex:null};u.push(m)}else{for(var y=0;y<l.dataPoints.length;y++){var b=l.dataPoints[y];c=b.legendMarkerType?b.legendMarkerType:l.legendMarkerType?l.legendMarkerType:V.getDefaultLegendMarker(l.type);var h=b.legendText?b.legendText:l.legendText?l.legendText:b.name?b.name:"DataPoint: "+(y+1);var p=b.markerColor?b.markerColor:l.markerColor?l.markerColor:b.color?b.color:l.color?l.color:l._colorSet[y%l._colorSet.length];var d=(b.markerSize===0||l.markerSize===0&&!b.markerSize)&&(l.type==="line"||l.type==="stepLine"||l.type==="spline")?0:this.lineHeight*.6;var m={markerType:c,markerColor:p,text:h,textBlock:null,chartType:l.type,markerSize:d,dataSeriesIndex:f,dataPointIndex:y};u.push(m)}}m=null}if(u.length>0){var w=null;var E=0;for(var f=0;f<u.length;f++){var m=u[f];if(this.orientation==="horizontal"){m.textBlock=new U(this.ctx,{x:0,y:0,maxWidth:i,maxHeight:this.lineHeight,angle:0,text:m.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"});m.textBlock.measureText();if(!w||w.width+m.textBlock.width+(w.width===0?0:this.horizontalSpacing)>i){w={items:[],width:0};a.push(w);this.height=a.length*(m.textBlock.height+5)}m.textBlock.x=w.width;m.textBlock.y=0;w.width+=Math.round(m.textBlock.width+m.textBlock._lineHeight+(w.width===0?0:m.textBlock._lineHeight*.5));w.items.push(m);this.width=Math.max(w.width,this.width)}else{if(this.height+this.lineHeight<s){w={items:[],width:0};a.push(w);this.height=a.length*this.lineHeight}else{w=a[E];E=(E+1)%a.length}m.textBlock=new U(this.ctx,{x:0,y:0,maxWidth:i,maxHeight:this.fontSize*1.5,angle:0,text:m.text,horizontalAlign:"left",fontSize:this.fontSize,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontColor:this.fontColor,fontStyle:this.fontStyle,textBaseline:"top"});m.textBlock.measureText();m.textBlock.x=w.width;m.textBlock.y=0;w.width+=m.textBlock.width+m.textBlock._lineHeight+(w.width===0?0:m.textBlock._lineHeight*.5);w.items.push(m);this.width=Math.max(w.width,this.width)}}this.height=a.length*this.lineHeight}if(this.verticalAlign==="top"){if(this.horizontalAlign==="left")r=e.x1+2;else if(this.horizontalAlign==="right")r=e.x2-this.width-2;else r=e.x1+e.width/2-this.width/2;n=e.y1}else if(this.verticalAlign==="center"){if(this.horizontalAlign==="left")r=e.x1+2;else if(this.horizontalAlign==="right")r=e.x2-this.width-2;else r=e.x1+e.width/2-this.width/2;n=e.y1+e.height/2-this.height/2}else if(this.verticalAlign==="bottom"){if(this.horizontalAlign==="left")r=e.x1+2;else if(this.horizontalAlign==="right")r=e.x2-this.width-2;else r=e.x1+e.width/2-this.width/2;n=e.y2-this.height-5}this.items=u;for(var f=0;f<this.items.length;f++){var m=u[f];m.id=++this.chart._eventManager.lastObjectId;this.chart._eventManager.objectMap[m.id]={id:m.id,objectType:"legendItem",legendItemIndex:f,dataSeriesIndex:m.dataSeriesIndex,dataPointIndex:m.dataPointIndex}}for(var f=0;f<a.length;f++){var w=a[f];for(var S=0;S<w.items.length;S++){var m=w.items[S];var x=m.textBlock.x+r+(S===0?d*.2:this.lineHeight*.4+d*.2);var T=n+f*this.lineHeight;var N=x;if(!this.chart.data[m.dataSeriesIndex].visible)this.ctx.globalAlpha=.5;if(m.chartType==="line"||m.chartType==="stepLine"||m.chartType==="spline"){this.ctx.strokeStyle=m.lineColor;this.ctx.lineWidth=Math.ceil(this.lineHeight/8);this.ctx.beginPath();this.ctx.moveTo(x-this.lineHeight*.1,T+this.lineHeight/2);this.ctx.lineTo(x+this.lineHeight*.7,T+this.lineHeight/2);this.ctx.stroke();N-=this.lineHeight*.1}Y.drawMarker(x+d/2,T+this.lineHeight/2,this.ctx,m.markerType,d,m.markerColor,null,0);m.textBlock.x=x+Math.round(this.lineHeight*.9);m.textBlock.y=T;m.textBlock.render(true);if(!this.chart.data[m.dataSeriesIndex].visible)this.ctx.globalAlpha=1;var C=g(m.id);this.ghostCtx.fillStyle=C;this.ghostCtx.beginPath();this.ghostCtx.fillRect(N,m.textBlock.y,m.textBlock.x+m.textBlock.width-N,m.textBlock.height);m.x1=this.chart._eventManager.objectMap[m.id].x1=N;m.y1=this.chart._eventManager.objectMap[m.id].y1=m.textBlock.y;m.x2=this.chart._eventManager.objectMap[m.id].x2=m.textBlock.x+m.textBlock.width;m.y2=this.chart._eventManager.objectMap[m.id].y2=m.textBlock.y+m.textBlock.height}}this.chart.layoutManager.registerSpace(t,{width:this.width+2+2,height:this.height+5+5});this.bounds={x1:r,y1:n,x2:r+this.width,y2:n+this.height}};a(X,B);X.prototype.render=function(){var e=this.chart.layoutManager.getFreeSpace();this.ctx.fillStyle="red";this.ctx.fillRect(e.x1,e.y1,e.x2,e.y2)};a(V,B);V.prototype.getDefaultAxisPlacement=function(){var e=this.type;if(e==="column"||e==="line"||e==="stepLine"||e==="spline"||e==="area"||e==="stepArea"||e==="splineArea"||e==="stackedColumn"||e==="stackedLine"||e==="bubble"||e==="scatter"||e==="stackedArea"||e==="stackedColumn100"||e==="stackedLine100"||e==="stackedArea100"){return"normal"}else if(e==="bar"||e==="stackedBar"||e==="stackedBar100"){return"xySwapped"}else if(e==="pie"||e==="doughnut"){return"none"}else{window.console.log("Unknown Chart Type: "+e);return null}};V.getDefaultLegendMarker=function(e){if(e==="column"||e==="stackedColumn"||e==="stackedLine"||e==="bar"||e==="stackedBar"||e==="stackedBar100"||e==="bubble"||e==="scatter"||e==="stackedColumn100"||e==="stackedLine100"||e==="stepArea"){return"square"}else if(e==="line"||e==="stepLine"||e==="spline"||e==="pie"||e==="doughnut"){return"circle"}else if(e==="area"||e==="splineArea"||e==="stackedArea"||e==="stackedArea100"){return"triangle"}else{window.console.log("Unknown Chart Type: "+e);return null}};V.prototype.getDataPointAtX=function(e,t){if(!this.dataPoints||this.dataPoints.length===0)return null;var n={dataPoint:null,distance:Infinity,index:NaN};var r=null;var i=0;var s=0;var o=1;var u=Infinity;var a=0,f=0;var l=1e3;var c=0;if(this.chart.plotInfo.axisPlacement!=="none"){var h=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x;if(h>0)c=(this.dataPoints.length-1)/h*(e-this.dataPoints[0].x)>>0;else c=0}while(true){s=o>0?c+i:c-i;if(s>=0&&s<this.dataPoints.length){r=this.dataPoints[s];var p=Math.abs(r.x-e);if(p<n.distance){n.dataPoint=r;n.distance=p;n.index=s}var d=Math.abs(r.x-e);if(d<=u)u=d;else{if(o>0)a++;else f++}if(a>l&&f>l)break}else if(c-i<0&&c+i>=this.dataPoints.length)break;if(o===-1){i++;o=1}else o=-1}if(!t&&n.dataPoint.x===e)return n;else if(t&&n.dataPoint!==null)return n;else return null};V.prototype.getDataPointAtXY=function(e,t,n){if(!this.dataPoints||this.dataPoints.length===0)return null;n=n||false;var r=[];var i=0,s=0;var o=1;var u=false;var a=Infinity;var f=0,l=0;var c=1e3;var h=0;if(this.chart.plotInfo.axisPlacement!=="none"){var p=this.chart.axisX.getXValueAt({x:e,y:t});var d=this.dataPoints[this.dataPoints.length-1].x-this.dataPoints[0].x;if(d>0)h=(this.dataPoints.length-1)/d*(p-this.dataPoints[0].x)>>0;else h=0}while(true){s=o>0?h+i:h-i;if(s>=0&&s<this.dataPoints.length){var v=this.dataPointIds[s];var m=this.chart._eventManager.objectMap[v];var g=this.dataPoints[s];if(m){switch(this.type){case"column":case"stackedColumn":case"stackedColumn100":case"bar":case"stackedBar":case"stackedBar100":if(e>=m.x1&&e<=m.x2&&t>=m.y1&&t<=m.y2){r.push({dataPoint:g,dataPointIndex:s,dataSeries:this,distance:Math.min(Math.abs(m.x1-e),Math.abs(m.x2-e),Math.abs(m.y1-t),Math.abs(m.y2-t))});u=true}break;case"line":case"stepLine":case"spline":case"area":case"stepArea":case"stackedArea":case"stackedArea100":case"splineArea":case"scatter":var y=A("markerSize",g,this)||4;var b=n?20:y;var w=Math.sqrt(Math.pow(m.x1-e,2)+Math.pow(m.y1-t,2));if(w<=b){r.push({dataPoint:g,dataPointIndex:s,dataSeries:this,distance:w})}var E=Math.abs(m.x1-e);if(E<=a)a=E;else{if(o>0)f++;else l++}if(w<=y/2){u=true}break;case"bubble":var y=m.size;var w=Math.sqrt(Math.pow(m.x1-e,2)+Math.pow(m.y1-t,2));if(w<=y/2){r.push({dataPoint:g,dataPointIndex:s,dataSeries:this,distance:w});u=true}break;case"pie":case"doughnut":var S=m.center;var x=this.type==="doughnut"?.6*m.radius:0;var w=Math.sqrt(Math.pow(S.x-e,2)+Math.pow(S.y-t,2));if(w<m.radius&&w>x){var T=t-S.y;var N=e-S.x;var C=Math.atan2(T,N);if(C<0)C+=Math.PI*2;C=(C/Math.PI*180%360+360)%360;var k=(m.startAngle/Math.PI*180%360+360)%360;var L=(m.endAngle/Math.PI*180%360+360)%360;if(L===0&&m.endAngle>1){L=360}if(k>L){L+=360;if(C<k)C+=360}if(C>k&&C<L){r.push({dataPoint:g,dataPointIndex:s,dataSeries:this,distance:0});u=true}}break}if(u||f>c&&l>c)break}}else if(h-i<0&&h+i>=this.dataPoints.length)break;if(o===-1){i++;o=1}else o=-1}var O=null;for(var M=0;M<r.length;M++){if(!O){O=r[M]}else if(r[M].distance<=O.distance){O=r[M]}}return O};V.prototype.getMarkerProperties=function(e,t,n,r){var i=this.dataPoints;var s=this;var o=i[e].markerColor?i[e].markerColor:s.markerColor?s.markerColor:i[e].color?i[e].color:s.color?s.color:s._colorSet[e%s._colorSet.length];var u=i[e].markerBorderColor?i[e].markerBorderColor:s.markerBorderColor?s.markerBorderColor:null;var a=i[e].markerBorderThickness?i[e].markerBorderThickness:s.markerBorderThickness?s.markerBorderThickness:null;var f=i[e].markerType?i[e].markerType:s.markerType;var l=i[e].markerSize?i[e].markerSize:s.markerSize;return{x:t,y:n,ctx:r,type:f,size:l,color:o,borderColor:u,borderThickness:a}};a($,B);$.prototype.createLabels=function(){var e;var t=0;var n;var r=0;var i=0;var s=0;if(this._position==="bottom"||this._position==="top"){s=this.lineCoordinates.width/Math.abs(this.maximum-this.minimum)*this.interval;if(this.labelAutoFit){r=typeof this._options.labelMaxWidth==="undefined"?s*.9>>0:this.labelMaxWidth}else{r=typeof this._options.labelMaxWidth==="undefined"?this.chart.width*.7>>0:this.labelMaxWidth}i=typeof this._options.labelWrap==="undefined"||this.labelWrap?this.chart.height*.5>>0:this.labelFontSize*1.5}else if(this._position==="left"||this._position==="right"){s=this.lineCoordinates.height/Math.abs(this.maximum-this.minimum)*this.interval;if(this.labelAutoFit){r=typeof this._options.labelMaxWidth==="undefined"?this.chart.width*.3>>0:this.labelMaxWidth}else{r=typeof this._options.labelMaxWidth==="undefined"?this.chart.width*.5>>0:this.labelMaxWidth}i=typeof this._options.labelWrap==="undefined"||this.labelWrap?s*2>>0:this.labelFontSize*1.5}if(this.type==="axisX"&&this.chart.plotInfo.axisXValueType==="dateTime"){n=l(new Date(this.maximum),this.interval,this.intervalType);for(t=this.intervalStartPosition;t<n;l(t,this.interval,this.intervalType)){var o=this.type==="axisX"&&this.labels[t]?this.labels[t]:T(t,this.valueFormatString,this.chart._cultureInfo);e=new U(this.ctx,{x:0,y:0,maxWidth:r,maxHeight:i,angle:this.labelAngle,text:this.prefix+o+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle"});this._labels.push({position:t.getTime(),textBlock:e,effectiveHeight:null})}}else{n=this.maximum;if(this.labels&&this.labels.length){var u=Math.ceil(this.interval);var a=Math.ceil(this.intervalStartPosition);var f=false;for(t=a;t<this.maximum;t+=u){if(this.labels[t]){f=true}else{f=false;break}}if(f){this.interval=u;this.intervalStartPosition=a}}for(t=this.intervalStartPosition;t<=n;t+=this.interval){var o=this.type==="axisX"&&this.labels[t]?this.labels[t]:N(t,this.valueFormatString,this.chart._cultureInfo);e=new U(this.ctx,{x:0,y:0,maxWidth:r,maxHeight:i,angle:this.labelAngle,text:this.prefix+o+this.suffix,horizontalAlign:"left",fontSize:this.labelFontSize,fontFamily:this.labelFontFamily,fontWeight:this.labelFontWeight,fontColor:this.labelFontColor,fontStyle:this.labelFontStyle,textBaseline:"middle",borderThickness:0});this._labels.push({position:t,textBlock:e,effectiveHeight:null})}}for(var t=0;t<this.stripLines.length;t++){var c=this.stripLines[t];e=new U(this.ctx,{x:0,y:0,backgroundColor:c.labelBackgroundColor,maxWidth:r,maxHeight:i,angle:this.labelAngle,text:c.label,horizontalAlign:"left",fontSize:c.labelFontSize,fontFamily:c.labelFontFamily,fontWeight:c.labelFontWeight,fontColor:c.labelFontColor,fontStyle:c.labelFontStyle,textBaseline:"middle",borderThickness:0});this._labels.push({position:c.value,textBlock:e,effectiveHeight:null,stripLine:c})}};$.prototype.createLabelsAndCalculateWidth=function(){var e=0;this._labels=[];if(this._position==="left"||this._position==="right"){this.createLabels();for(i=0;i<this._labels.length;i++){var t=this._labels[i].textBlock;var n=t.measureText();var r=0;if(this.labelAngle===0)r=n.width;else r=n.width*Math.cos(Math.PI/180*Math.abs(this.labelAngle))+n.height/2*Math.sin(Math.PI/180*Math.abs(this.labelAngle));if(e<r)e=r;this._labels[i].effectiveWidth=r}}var s=this.title?S(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0;return s+e+this.tickLength+5};$.prototype.createLabelsAndCalculateHeight=function(){var e=0;this._labels=[];var t;var n=0;this.createLabels();if(this._position==="bottom"||this._position==="top"){for(n=0;n<this._labels.length;n++){t=this._labels[n].textBlock;var r=t.measureText();var i=0;if(this.labelAngle===0)i=r.height;else i=r.width*Math.sin(Math.PI/180*Math.abs(this.labelAngle))+r.height/2*Math.cos(Math.PI/180*Math.abs(this.labelAngle));if(e<i)e=i;this._labels[n].effectiveHeight=i}}var s=this.title?S(this.titleFontFamily,this.titleFontSize,this.titleFontWeight)+2:0;return s+e+this.tickLength+5};$.setLayoutAndRender=function(e,t,n,r,i){var s,o,u,a;var f=e.chart;var l=f.ctx;e.calculateAxisParameters();if(t)t.calculateAxisParameters();if(n)n.calculateAxisParameters();if(t&&n&&typeof t._options.maximum==="undefined"&&typeof t._options.minimum==="undefined"&&typeof t._options.interval==="undefined"&&typeof n._options.maximum==="undefined"&&typeof n._options.minimum==="undefined"&&typeof n._options.interval==="undefined"){var c=(t.maximum-t.minimum)/t.interval;var h=(n.maximum-n.minimum)/n.interval;if(c>h){n.maximum=n.interval*c+n.minimum}else if(h>c){t.maximum=t.interval*h+t.minimum}}var p=t?t.lineThickness?t.lineThickness:0:0;var d=n?n.lineThickness?n.lineThickness:0:0;var v=t?t.gridThickness?t.gridThickness:0:0;var m=n?n.gridThickness?n.gridThickness:0:0;var g=t?t.margin:0;var y=t?t.margin:0;if(r==="normal"){e.lineCoordinates={};var b=Math.ceil(t?t.createLabelsAndCalculateWidth():0);s=Math.round(i.x1+b+g);e.lineCoordinates.x1=s;var w=Math.ceil(n?n.createLabelsAndCalculateWidth():0);u=Math.round(i.x2-w>e.chart.width-10?e.chart.width-10:i.x2-w);e.lineCoordinates.x2=u;e.lineCoordinates.width=Math.abs(u-s);var E=Math.ceil(e.createLabelsAndCalculateHeight());o=Math.round(i.y2-E-e.margin);a=Math.round(i.y2-e.margin);e.lineCoordinates.y1=o;e.lineCoordinates.y2=o;e.boundingRect={x1:s,y1:o,x2:u,y2:a,width:u-s,height:a-o};if(t){s=Math.round(i.x1+t.margin);o=Math.round(i.y1<10?10:i.y1);u=Math.round(i.x1+b+t.margin);a=Math.round(i.y2-E-e.margin);t.lineCoordinates={x1:u,y1:o,x2:u,y2:a,height:Math.abs(a-o)};t.boundingRect={x1:s,y1:o,x2:u,y2:a,width:u-s,height:a-o}}if(n){s=Math.round(e.lineCoordinates.x2);o=Math.round(i.y1<10?10:i.y1);u=Math.round(s+w+n.margin);a=Math.round(i.y2-E-e.margin);n.lineCoordinates={x1:s,y1:o,x2:s,y2:a,height:Math.abs(a-o)};n.boundingRect={x1:s,y1:o,x2:u,y2:a,width:u-s,height:a-o}}e.calculateValueToPixelconversionParameters();if(t)t.calculateValueToPixelconversionParameters();if(n)n.calculateValueToPixelconversionParameters();l.save();l.rect(e.boundingRect.x1-40,e.boundingRect.y1,e.boundingRect.width+80,e.boundingRect.height);l.clip();e.renderLabelsTicksAndTitle();l.restore();if(t)t.renderLabelsTicksAndTitle();if(n)n.renderLabelsTicksAndTitle();f.preparePlotArea();var S=e.chart.plotArea;l.save();l.rect(S.x1,S.y1,Math.abs(S.x2-S.x1),Math.abs(S.y2-S.y1));l.clip();e.renderStripLinesOfThicknessType("value");if(t)t.renderStripLinesOfThicknessType("value");if(n)n.renderStripLinesOfThicknessType("value");e.renderInterlacedColors();if(t)t.renderInterlacedColors();if(n)n.renderInterlacedColors();l.restore();e.renderGrid();if(t)t.renderGrid();if(n)n.renderGrid();e.renderAxisLine();if(t)t.renderAxisLine();if(n)n.renderAxisLine();e.renderStripLinesOfThicknessType("pixel");if(t)t.renderStripLinesOfThicknessType("pixel");if(n)n.renderStripLinesOfThicknessType("pixel")}else{var x=Math.ceil(e.createLabelsAndCalculateWidth());if(t){t.lineCoordinates={};s=Math.round(i.x1+x+e.margin);u=Math.round(i.x2>t.chart.width-10?t.chart.width-10:i.x2);t.lineCoordinates.x1=s;t.lineCoordinates.x2=u;t.lineCoordinates.width=Math.abs(u-s)}if(n){n.lineCoordinates={};s=Math.round(i.x1+x+e.margin);u=Math.round(i.x2>n.chart.width-10?n.chart.width-10:i.x2);n.lineCoordinates.x1=s;n.lineCoordinates.x2=u;n.lineCoordinates.width=Math.abs(u-s)}var T=Math.ceil(t?t.createLabelsAndCalculateHeight():0);var N=Math.ceil(n?n.createLabelsAndCalculateHeight():0);if(t){o=Math.round(i.y2-T-t.margin);a=Math.round(i.y2-g>t.chart.height-10?t.chart.height-10:i.y2-g);t.lineCoordinates.y1=o;t.lineCoordinates.y2=o;t.boundingRect={x1:s,y1:o,x2:u,y2:a,width:u-s,height:T}}if(n){o=Math.round(i.y1+n.margin);a=i.y1+n.margin+N;n.lineCoordinates.y1=a;n.lineCoordinates.y2=a;n.boundingRect={x1:s,y1:o,x2:u,y2:a,width:u-s,height:N}}s=Math.round(i.x1+e.margin);o=Math.round(n?n.lineCoordinates.y2:i.y1<10?10:i.y1);u=Math.round(i.x1+x+e.margin);a=Math.round(t?t.lineCoordinates.y1:i.y2-g>e.chart.height-10?e.chart.height-10:i.y2-g);e.lineCoordinates={x1:u,y1:o,x2:u,y2:a,height:Math.abs(a-o)};e.boundingRect={x1:s,y1:o,x2:u,y2:a,width:u-s,height:a-o};e.calculateValueToPixelconversionParameters();if(t)t.calculateValueToPixelconversionParameters();if(n)n.calculateValueToPixelconversionParameters();if(t)t.renderLabelsTicksAndTitle();if(n)n.renderLabelsTicksAndTitle();e.renderLabelsTicksAndTitle();f.preparePlotArea();var S=e.chart.plotArea;l.save();l.rect(S.x1,S.y1,Math.abs(S.x2-S.x1),Math.abs(S.y2-S.y1));l.clip();e.renderStripLinesOfThicknessType("value");if(t)t.renderStripLinesOfThicknessType("value");if(n)n.renderStripLinesOfThicknessType("value");e.renderInterlacedColors();if(t)t.renderInterlacedColors();if(n)n.renderInterlacedColors();l.restore();e.renderGrid();if(t)t.renderGrid();if(n)n.renderGrid();e.renderAxisLine();if(t)t.renderAxisLine();if(n)n.renderAxisLine();e.renderStripLinesOfThicknessType("pixel");if(t)t.renderStripLinesOfThicknessType("pixel");if(n)n.renderStripLinesOfThicknessType("pixel")}};$.prototype.renderLabelsTicksAndTitle=function(){var e=false;var t=0;var n=1;var r=0;var i=this.conversionParameters.pixelPerUnit*this.interval;if(this.labelAngle!==0&&this.labelAngle!==360)n=1.2;if(typeof this._options.interval==="undefined"){if(this._position==="bottom"||this._position==="top"){for(o=0;o<this._labels.length;o++){u=this._labels[o];if(u.position<this.minimum||u.stripLine)continue;var s=u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)+u.textBlock.height*Math.sin(Math.PI/180*this.labelAngle);t+=s}if(t>this.lineCoordinates.width*n){e=true}}if(this._position==="left"||this._position==="right"){for(o=0;o<this._labels.length;o++){u=this._labels[o];if(u.position<this.minimum||u.stripLine)continue;var s=u.textBlock.height*Math.cos(Math.PI/180*this.labelAngle)+u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle);t+=s}if(t>this.lineCoordinates.height*n){e=true}}}if(this._position==="bottom"){var o=0;var u;var a;for(o=0;o<this._labels.length;o++){u=this._labels[o];if(u.position<this.minimum||u.position>this.maximum)continue;a=this.getPixelCoordinatesOnAxis(u.position);if(this.tickThickness&&!this._labels[o].stripLine||this._labels[o].stripLine&&this._labels[o].stripLine._thicknessType==="pixel"){if(this._labels[o].stripLine){l=this._labels[o].stripLine;this.ctx.lineWidth=l.thickness;this.ctx.strokeStyle=l.color}else{this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor}var f=this.ctx.lineWidth%2===1?(a.x<<0)+.5:a.x<<0;this.ctx.beginPath();this.ctx.moveTo(f,a.y<<0);this.ctx.lineTo(f,a.y+this.tickLength<<0);this.ctx.stroke()}if(e&&r++%2!==0&&!this._labels[o].stripLine)continue;if(u.textBlock.angle===0){a.x-=u.textBlock.width/2;a.y+=this.tickLength+u.textBlock.fontSize/2}else{a.x-=this.labelAngle<0?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0;a.y+=this.tickLength+Math.abs(this.labelAngle<0?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)-5:5)}u.textBlock.x=a.x;u.textBlock.y=a.y;u.textBlock.render(true)}if(this.title){this._titleTextBlock=new U(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y2-this.titleFontSize-5,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize*1.5,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"});this._titleTextBlock.measureText();this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2;this._titleTextBlock.y=this.boundingRect.y2-this._titleTextBlock.height-2;this._titleTextBlock.render(true)}}else if(this._position==="top"){var o=0;var u;var a;var l;for(o=0;o<this._labels.length;o++){u=this._labels[o];if(u.position<this.minimum||u.position>this.maximum)continue;a=this.getPixelCoordinatesOnAxis(u.position);if(this.tickThickness&&!this._labels[o].stripLine||this._labels[o].stripLine&&this._labels[o].stripLine._thicknessType==="pixel"){if(this._labels[o].stripLine){l=this._labels[o].stripLine;this.ctx.lineWidth=l.thickness;this.ctx.strokeStyle=l.color}else{this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor}var f=this.ctx.lineWidth%2===1?(a.x<<0)+.5:a.x<<0;this.ctx.beginPath();this.ctx.moveTo(f,a.y<<0);this.ctx.lineTo(f,a.y-this.tickLength<<0);this.ctx.stroke()}if(e&&r++%2!==0&&!this._labels[o].stripLine)continue;if(u.textBlock.angle===0){a.x-=u.textBlock.width/2;a.y-=this.tickLength+u.textBlock.height/2}else{a.x-=this.labelAngle>0?u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle):0;a.y-=this.tickLength+Math.abs(this.labelAngle>0?u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle)+5:5)}u.textBlock.x=a.x;u.textBlock.y=a.y;u.textBlock.render(true)}if(this.title){this._titleTextBlock=new U(this.ctx,{x:this.lineCoordinates.x1,y:this.boundingRect.y1,maxWidth:this.lineCoordinates.width,maxHeight:this.titleFontSize*1.5,angle:0,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"});this._titleTextBlock.measureText();this._titleTextBlock.x=this.lineCoordinates.x1+this.lineCoordinates.width/2-this._titleTextBlock.width/2;this._titleTextBlock.render(true)}}else if(this._position==="left"){var u;var a;for(var o=0;o<this._labels.length;o++){u=this._labels[o];if(u.position<this.minimum||u.position>this.maximum)continue;a=this.getPixelCoordinatesOnAxis(u.position);if(this.tickThickness&&!this._labels[o].stripLine||this._labels[o].stripLine&&this._labels[o].stripLine._thicknessType==="pixel"){if(this._labels[o].stripLine){l=this._labels[o].stripLine;this.ctx.lineWidth=l.thickness;this.ctx.strokeStyle=l.color}else{this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor}var c=this.ctx.lineWidth%2===1?(a.y<<0)+.5:a.y<<0;this.ctx.beginPath();this.ctx.moveTo(a.x<<0,c);this.ctx.lineTo(a.x-this.tickLength<<0,c);this.ctx.stroke()}if(e&&r++%2!==0&&!this._labels[o].stripLine)continue;u.textBlock.x=a.x-u.textBlock.width*Math.cos(Math.PI/180*this.labelAngle)-this.tickLength-5;if(this.labelAngle===0){u.textBlock.y=a.y-u.textBlock.height/2+this.labelFontSize/2}else u.textBlock.y=a.y-u.textBlock.width*Math.sin(Math.PI/180*this.labelAngle);u.textBlock.render(true)}if(this.title){this._titleTextBlock=new U(this.ctx,{x:this.boundingRect.x1+5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize*1.5,angle:-90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"});this._titleTextBlock.measureText();this._titleTextBlock.y=this.lineCoordinates.height/2+this._titleTextBlock.width/2+this.lineCoordinates.y1;this._titleTextBlock.render(true)}}else if(this._position==="right"){var u;var a;for(var o=0;o<this._labels.length;o++){u=this._labels[o];if(u.position<this.minimum||u.position>this.maximum)continue;a=this.getPixelCoordinatesOnAxis(u.position);if(this.tickThickness&&!this._labels[o].stripLine||this._labels[o].stripLine&&this._labels[o].stripLine._thicknessType==="pixel"){if(this._labels[o].stripLine){l=this._labels[o].stripLine;this.ctx.lineWidth=l.thickness;this.ctx.strokeStyle=l.color}else{this.ctx.lineWidth=this.tickThickness;this.ctx.strokeStyle=this.tickColor}var c=this.ctx.lineWidth%2===1?(a.y<<0)+.5:a.y<<0;this.ctx.beginPath();this.ctx.moveTo(a.x<<0,c);this.ctx.lineTo(a.x+this.tickLength<<0,c);this.ctx.stroke()}if(e&&r++%2!==0&&!this._labels[o].stripLine)continue;u.textBlock.x=a.x+this.tickLength+5;if(this.labelAngle===0){u.textBlock.y=a.y-u.textBlock.height/2+this.labelFontSize/2}else u.textBlock.y=a.y;u.textBlock.render(true)}if(this.title){this._titleTextBlock=new U(this.ctx,{x:this.boundingRect.x2-5,y:this.lineCoordinates.y2,maxWidth:this.lineCoordinates.height,maxHeight:this.titleFontSize*1.5,angle:90,text:this.title,horizontalAlign:"center",fontSize:this.titleFontSize,fontFamily:this.titleFontFamily,fontWeight:this.titleFontWeight,fontColor:this.titleFontColor,fontStyle:this.titleFontStyle,textBaseline:"top"});this._titleTextBlock.measureText();this._titleTextBlock.y=this.lineCoordinates.height/2-this._titleTextBlock.width/2+this.lineCoordinates.y1;this._titleTextBlock.render(true)}}};$.prototype.renderInterlacedColors=function(){var e=this.chart.plotArea.ctx;var t;var n;var r=this.chart.plotArea;var i=0,s=true;if((this._position==="bottom"||this._position==="top")&&this.interlacedColor){e.fillStyle=this.interlacedColor;for(i=0;i<this._labels.length;i++){if(this._labels[i].stripLine)continue;if(s){t=this.getPixelCoordinatesOnAxis(this._labels[i].position);if(i+1>=this._labels.length)n=this.getPixelCoordinatesOnAxis(this.maximum);else n=this.getPixelCoordinatesOnAxis(this._labels[i+1].position);e.fillRect(t.x,r.y1,Math.abs(n.x-t.x),Math.abs(r.y1-r.y2));s=false}else s=true}}else if((this._position==="left"||this._position==="right")&&this.interlacedColor){e.fillStyle=this.interlacedColor;for(i=0;i<this._labels.length;i++){if(this._labels[i].stripLine)continue;if(s){n=this.getPixelCoordinatesOnAxis(this._labels[i].position);if(i+1>=this._labels.length)t=this.getPixelCoordinatesOnAxis(this.maximum);else t=this.getPixelCoordinatesOnAxis(this._labels[i+1].position);e.fillRect(r.x1,t.y,Math.abs(r.x1-r.x2),Math.abs(t.y-n.y));s=false}else s=true}}e.beginPath()};$.prototype.renderStripLinesOfThicknessType=function(e){if(!(this.stripLines&&this.stripLines.length>0)||!e)return;var t=this.chart.plotArea.ctx;var n=this.chart._eventManager.ghostCtx;var r=0;for(r=0;r<this.stripLines.length;r++){var i=this.stripLines[r];if(i._thicknessType!==e)continue;if(e==="pixel"&&(i.value<this.minimum||i.value>this.maximum))continue;var s=this.getPixelCoordinatesOnAxis(i.value);t.strokeStyle=i.color;t.beginPath();var o=g(i.id);var u,a,f,l;t.lineWidth=Math.abs(e==="pixel"?i.thickness:this.conversionParameters.pixelPerUnit*i.thickness);if(this._position==="bottom"||this._position==="top"){var c=t.lineWidth%2===1?(s.x<<0)+.5:s.x<<0;u=a=c;f=this.chart.plotArea.y1;l=this.chart.plotArea.y2}else if(this._position==="left"||this._position==="right"){var h=t.lineWidth%2===1?(s.y<<0)+.5:s.y<<0;f=l=h;u=this.chart.plotArea.x1;a=this.chart.plotArea.x2}t.moveTo(u,f);t.lineTo(a,l);t.stroke()}};$.prototype.renderGrid=function(){if(!(this.gridThickness&&this.gridThickness>0))return;var e=this.chart.ctx;var t;var n=this.chart.plotArea;var r;var i,s;e.lineWidth=this.gridThickness;e.strokeStyle=this.gridColor;if(this._position==="bottom"||this._position==="top"){for(u=0;u<this._labels.length&&!this._labels[u].stripLine;u++){if(this._labels[u].position<this.minimum||this._labels[u].position>this.maximum)continue;e.beginPath();t=this.getPixelCoordinatesOnAxis(this._labels[u].position);var o=e.lineWidth%2===1?(t.x<<0)+.5:t.x<<0;e.moveTo(o,n.y1<<0);e.lineTo(o,n.y2<<0);e.stroke()}}else if(this._position==="left"||this._position==="right"){for(var u=0;u<this._labels.length&&!this._labels[u].stripLine;u++){if(this._labels[u].position<this.minimum||this._labels[u].position>this.maximum)continue;e.beginPath();t=this.getPixelCoordinatesOnAxis(this._labels[u].position);var a=e.lineWidth%2===1?(t.y<<0)+.5:t.y<<0;e.moveTo(n.x1<<0,a);e.lineTo(n.x2<<0,a);e.stroke()}}};$.prototype.renderAxisLine=function(){var e=this.chart.ctx;if(this._position==="bottom"||this._position==="top"){if(this.lineThickness){e.lineWidth=this.lineThickness;e.strokeStyle=this.lineColor?this.lineColor:"black";var t=this.lineThickness%2===1?(this.lineCoordinates.y1<<0)+.5:this.lineCoordinates.y1<<0;e.beginPath();e.moveTo(this.lineCoordinates.x1,t);e.lineTo(this.lineCoordinates.x2,t);e.stroke()}}else if(this._position==="left"||this._position==="right"){if(this.lineThickness){e.lineWidth=this.lineThickness;e.strokeStyle=this.lineColor;var n=this.lineThickness%2===1?(this.lineCoordinates.x1<<0)+.5:this.lineCoordinates.x1<<0;e.beginPath();e.moveTo(n,this.lineCoordinates.y1);e.lineTo(n,this.lineCoordinates.y2);e.stroke()}}};$.prototype.getPixelCoordinatesOnAxis=function(e){var t={};var n=this.lineCoordinates.width;var r=this.lineCoordinates.height;if(this._position==="bottom"||this._position==="top"){var i=n/Math.abs(this.maximum-this.minimum);t.x=this.lineCoordinates.x1+i*(e-this.minimum);t.y=this.lineCoordinates.y1}if(this._position==="left"||this._position==="right"){var i=r/Math.abs(this.maximum-this.minimum);t.y=this.lineCoordinates.y2-i*(e-this.minimum);t.x=this.lineCoordinates.x2}return t};$.prototype.getXValueAt=function(e){if(!e)return null;var t=null;if(this._position==="left"){t=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-e.y)+this.chart.axisX.minimum}else if(this._position==="bottom"){t=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(e.x-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum}return t};$.prototype.calculateValueToPixelconversionParameters=function(e){var t={};var n={pixelPerUnit:null,minimum:null,reference:null};var r=this.lineCoordinates.width;var i=this.lineCoordinates.height;n.minimum=this.minimum;if(this._position==="bottom"||this._position==="top"){n.pixelPerUnit=r/Math.abs(this.maximum-this.minimum);n.reference=this.lineCoordinates.x1}if(this._position==="left"||this._position==="right"){n.pixelPerUnit=-1*i/Math.abs(this.maximum-this.minimum);n.reference=this.lineCoordinates.y2}this.conversionParameters=n};$.prototype.calculateAxisParameters=function(){var e=this.chart.layoutManager.getFreeSpace();var t=0;var n=0;if(this._position==="bottom"||this._position==="top"){this.maxWidth=e.width;this.maxHeight=e.height}else{this.maxWidth=e.height;this.maxHeight=e.width}var r=this.type==="axisX"?this.maxWidth<500?8:Math.max(6,Math.floor(this.maxWidth/62)):Math.floor(this.maxWidth/40);var i,s;var o;var a;if(this.type==="axisX"){i=this.sessionVariables.internalMinimum!==null?this.sessionVariables.internalMinimum:this.dataInfo.viewPortMin;s=this.sessionVariables.internalMaximum!==null?this.sessionVariables.internalMaximum:this.dataInfo.viewPortMax;if(s-i===0){s+=.4;i-=.4}if(this.dataInfo.minDiff!==Infinity)o=this.dataInfo.minDiff;else o=1}else if(this.type==="axisY"){i=typeof this._options.minimum==="undefined"?this.dataInfo.viewPortMin:this._options.minimum;s=typeof this._options.maximum==="undefined"?this.dataInfo.viewPortMax:this._options.maximum;if(s-i===0){s+=5;i-=5}else{if(s!==0)s+=Math.abs(.05);if(i!==0)i-=Math.abs(.05)}if(this.includeZero&&typeof this._options.minimum==="undefined"){if(i>0)i=0}if(this.includeZero&&typeof this._options.maximum==="undefined"){if(s<0)s=0}}if(this.type==="axisX"&&this.chart.plotInfo.axisXValueType==="dateTime"){a=s-i;if(!this.intervalType){if(a/(1*1)<=r){this.interval=1;this.intervalType="millisecond"}else if(a/(1*2)<=r){this.interval=2;this.intervalType="millisecond"}else if(a/(1*5)<=r){this.interval=5;this.intervalType="millisecond"}else if(a/(1*10)<=r){this.interval=10;this.intervalType="millisecond"}else if(a/(1*20)<=r){this.interval=20;this.intervalType="millisecond"}else if(a/(1*50)<=r){this.interval=50;this.intervalType="millisecond"}else if(a/(1*100)<=r){this.interval=100;this.intervalType="millisecond"}else if(a/(1*200)<=r){this.interval=200;this.intervalType="millisecond"}else if(a/(1*250)<=r){this.interval=250;this.intervalType="millisecond"}else if(a/(1*300)<=r){this.interval=300;this.intervalType="millisecond"}else if(a/(1*400)<=r){this.interval=400;this.intervalType="millisecond"}else if(a/(1*500)<=r){this.interval=500;this.intervalType="millisecond"}else if(a/(u.secondDuration*1)<=r){this.interval=1;this.intervalType="second"}else if(a/(u.secondDuration*2)<=r){this.interval=2;this.intervalType="second"}else if(a/(u.secondDuration*5)<=r){this.interval=5;this.intervalType="second"}else if(a/(u.secondDuration*10)<=r){this.interval=10;this.intervalType="second"}else if(a/(u.secondDuration*15)<=r){this.interval=15;this.intervalType="second"}else if(a/(u.secondDuration*20)<=r){this.interval=20;this.intervalType="second"}else if(a/(u.secondDuration*30)<=r){this.interval=30;this.intervalType="second"}else if(a/(u.minuteDuration*1)<=r){this.interval=1;this.intervalType="minute"}else if(a/(u.minuteDuration*2)<=r){this.interval=2;this.intervalType="minute"}else if(a/(u.minuteDuration*5)<=r){this.interval=5;this.intervalType="minute"}else if(a/(u.minuteDuration*10)<=r){this.interval=10;this.intervalType="minute"}else if(a/(u.minuteDuration*15)<=r){this.interval=15;this.intervalType="minute"}else if(a/(u.minuteDuration*20)<=r){this.interval=20;this.intervalType="minute"}else if(a/(u.minuteDuration*30)<=r){this.interval=30;this.intervalType="minute"}else if(a/(u.hourDuration*1)<=r){this.interval=1;this.intervalType="hour"}else if(a/(u.hourDuration*2)<=r){this.interval=2;this.intervalType="hour"}else if(a/(u.hourDuration*3)<=r){this.interval=3;this.intervalType="hour"}else if(a/(u.hourDuration*6)<=r){this.interval=6;this.intervalType="hour"}else if(a/(u.dayDuration*1)<=r){this.interval=1;this.intervalType="day"}else if(a/(u.dayDuration*2)<=r){this.interval=2;this.intervalType="day"}else if(a/(u.dayDuration*4)<=r){this.interval=4;this.intervalType="day"}else if(a/(u.weekDuration*1)<=r){this.interval=1;this.intervalType="week"}else if(a/(u.weekDuration*2)<=r){this.interval=2;this.intervalType="week"}else if(a/(u.weekDuration*3)<=r){this.interval=3;this.intervalType="week"}else if(a/(u.monthDuration*1)<=r){this.interval=1;this.intervalType="month"}else if(a/(u.monthDuration*2)<=r){this.interval=2;this.intervalType="month"}else if(a/(u.monthDuration*3)<=r){this.interval=3;this.intervalType="month"}else if(a/(u.monthDuration*6)<=r){this.interval=6;this.intervalType="month"}else if(a/(u.yearDuration*1)<=r){this.interval=1;this.intervalType="year"}else if(a/(u.yearDuration*2)<=r){this.interval=2;this.intervalType="year"}else if(a/(u.yearDuration*4)<=r){this.interval=4;this.intervalType="year"}else{this.interval=Math.floor($.getNiceNumber(a/(r-1),true)/u.yearDuration);this.intervalType="year"}}if(this.sessionVariables.internalMinimum!==null)this.minimum=this.sessionVariables.internalMinimum;else{this.minimum=i-o/2}if(this.sessionVariables.internalMaximum)this.maximum=this.sessionVariables.internalMaximum;else this.maximum=s+o/2;if(!this.valueFormatString){if(this.intervalType==="year"){this.valueFormatString="YYYY"}else if(this.intervalType==="month"){this.valueFormatString="MMM YYYY"}else if(this.intervalType==="week"){this.valueFormatString="MMM DD YYYY"}else if(this.intervalType==="day"){this.valueFormatString="MMM DD YYYY"}else if(this.intervalType==="hour"){this.valueFormatString="hh:mm TT"}else if(this.intervalType==="minute"){this.valueFormatString="hh:mm TT"}else if(this.intervalType==="second"){this.valueFormatString="hh:mm:ss TT"}else if(this.intervalType==="millisecond"){this.valueFormatString="fff'ms'"}}this.intervalStartPosition=this.getLabelStartPoint(new Date(this.minimum),this.intervalType,this.interval)}else{this.intervalType="number";a=$.getNiceNumber(s-i,false);if(this._options&&this._options.interval)this.interval=this._options.interval;else{this.interval=$.getNiceNumber(a/(r-1),true)}if(this.sessionVariables.internalMinimum!==null)this.minimum=this.sessionVariables.internalMinimum;else this.minimum=Math.floor(i/this.interval)*this.interval;if(this.sessionVariables.internalMaximum!==null)this.maximum=this.sessionVariables.internalMaximum;else this.maximum=Math.ceil(s/this.interval)*this.interval;if(this.type==="axisX"){if(!(this.sessionVariables.internalMinimum!==null)){this.minimum=i-o/2}if(!this.sessionVariables.internalMaximum){this.maximum=s+o/2}this.intervalStartPosition=Math.floor((this.minimum+this.interval*.2)/this.interval)*this.interval}else if(this.type==="axisY"){this.intervalStartPosition=this.minimum}}if(this.type==="axisX"){this._absoluteMinimum=this._options&&typeof this._options.minimum!=="undefined"?this._options.minimum:this.dataInfo.min-o/2;this._absoluteMaximum=this._options&&typeof this._options.maximum!=="undefined"?this._options.maximum:this.dataInfo.max+o/2}if(!this.valueFormatString){this.valueFormatString="#,##0.##";a=Math.abs(this.maximum-this.minimum);if(a<1){var f=Math.floor(Math.abs(Math.log(a)/Math.LN10))+2;if(f>2){for(var l=0;l<f-2;l++)this.valueFormatString+="#"}}}};$.getNiceNumber=function(e,t){var n=Math.floor(Math.log(e)/Math.LN10);var r=e/Math.pow(10,n);var i;if(t){if(r<1.5)i=1;else if(r<3)i=2;else if(r<7)i=5;else i=10}else{if(r<=1)i=1;else if(r<=2)i=2;else if(r<=5)i=5;else i=10}return i*Math.pow(10,n)};$.prototype.getLabelStartPoint=function(){var e=c(this.interval,this.intervalType);var t=Math.floor(this.minimum/e)*e;var n=new Date(t);if(this.intervalType==="millisecond"){}else if(this.intervalType==="second"){if(n.getMilliseconds()>0){n.setSeconds(n.getSeconds()+1);n.setMilliseconds(0)}}else if(this.intervalType==="minute"){if(n.getSeconds()>0||n.getMilliseconds()>0){n.setMinutes(n.getMinutes()+1);n.setSeconds(0);n.setMilliseconds(0)}}else if(this.intervalType==="hour"){if(n.getMinutes()>0||n.getSeconds()>0||n.getMilliseconds()>0){n.setHours(n.getHours()+1);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0)}}else if(this.intervalType==="day"){if(n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0||n.getMilliseconds()>0){n.setDate(n.getDate()+1);n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0)}}else if(this.intervalType==="week"){if(n.getDay()>0||n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0||n.getMilliseconds()>0){n.setDate(n.getDate()+(7-n.getDay()));n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0)}}else if(this.intervalType==="month"){if(n.getDate()>1||n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0||n.getMilliseconds()>0){n.setMonth(n.getMonth()+1);n.setDate(1);n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0)}}else if(this.intervalType==="year"){if(n.getMonth()>0||n.getDate()>1||n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0||n.getMilliseconds()>0){n.setFullYear(n.getFullYear()+1);n.setMonth(0);n.setDate(1);n.setHours(0);n.setMinutes(0);n.setSeconds(0);n.setMilliseconds(0)}}return n};a(J,B);a(K,B);K.prototype._initialize=function(){if(this.enabled){this.container=document.createElement("div");this.container.setAttribute("class","canvasjs-chart-tooltip");this.container.style.position="absolute";this.container.style.height="auto";this.container.style.boxShadow="1px 1px 2px 2px rgba(0,0,0,0.1)";this.container.style.zIndex="1000";this.container.style.display="none";var e='<div style=" width: auto;';e+="height: auto;";e+="min-width: 50px;";e+="line-height: 20px;";e+="padding: 5px;";e+="font-family: Calibri, Arial, Georgia, serif;";e+="font-weight: 400;";e+="font-style: "+(t?"italic;":"normal;");e+="font-size: 14px;";e+="color: #000000;";e+="text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);";e+="text-align: left;";e+="border: 2px solid gray;";e+=t?"background: rgba(255,255,255,.9);":"background: rgb(255,255,255);";e+="text-indent: 0px;";e+="white-space: nowrap;";e+="border-radius: 10px;";if(!t){e+="filter: alpha(opacity = 90);";e+="filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#666666');"}e+='} "> Sample Tooltip</div>';this.container.innerHTML=e;this.contentDiv=this.container.firstChild;this.container.style.borderRadius=this.contentDiv.style.borderRadius;this.chart._canvasJSContainer.appendChild(this.container)}};K.prototype.mouseMoveHandler=function(e,t){if(!(this._lastUpdated&&(new Date).getTime()-this._lastUpdated<40)){this._lastUpdated=(new Date).getTime();this._updateToolTip(e,t)}};K.prototype._updateToolTip=function(e,n){if(!this.enabled)return;if(typeof e==="undefined"||typeof n==="undefined"){if(isNaN(this._prevX)||isNaN(this._prevY))return;else{e=this._prevX;n=this._prevY}}else{this._prevX=e;this._prevY=n}var r=null;var i=null;var s="";var o=[];var u;var a;var f=0;if(this.shared&&this.chart.plotInfo.axisPlacement!=="none"){if(this.chart.plotInfo.axisPlacement==="xySwapped"){f=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.height*(this.chart.axisX.lineCoordinates.y2-n)+this.chart.axisX.minimum}else{f=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(e-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum}var l=[];for(var c=0;c<this.chart.data.length;c++){var h=this.chart.data[c].getDataPointAtX(f,true);if(h&&h.index>=0){h.dataSeries=this.chart.data[c];if(h.dataPoint.y!==null)l.push(h)}}if(l.length===0)return;l.sort(function(e,t){return e.distance-t.distance});var p=l[0];for(c=0;c<l.length;c++){if(l[c].dataPoint.x.valueOf()===p.dataPoint.x.valueOf())o.push(l[c])}l=null}else{var d=this.chart.getDataPointAtXY(e,n,true);if(d){this.currentDataPointIndex=d.dataPointIndex;this.currentSeriesIndex=d.dataSeries.index}else if(t){var v=C(e,n,this.chart._eventManager.ghostCtx);if(v>0&&typeof this.chart._eventManager.objectMap[v]!=="undefined"){eventObject=this.chart._eventManager.objectMap[v];this.currentSeriesIndex=eventObject.dataSeriesIndex;this.currentDataPointIndex=eventObject.dataPointIndex>=0?eventObject.dataPointIndex:-1}else this.currentDataPointIndex=-1}else this.currentDataPointIndex=-1;if(this.currentSeriesIndex>=0){i=this.chart.data[this.currentSeriesIndex];var h={};if(this.currentDataPointIndex>=0){r=i.dataPoints[this.currentDataPointIndex];h.dataSeries=i;h.dataPoint=r;h.index=this.currentDataPointIndex;h.distance=Math.abs(r.x-f)}else if(i.type==="line"||i.type==="stepLine"||i.type==="spline"||i.type==="area"||i.type==="stepArea"||i.type==="splineArea"||i.type==="stackedArea"||i.type==="stackedArea100"){var f=(this.chart.axisX.maximum-this.chart.axisX.minimum)/this.chart.axisX.lineCoordinates.width*(e-this.chart.axisX.lineCoordinates.x1)+this.chart.axisX.minimum.valueOf();h=i.getDataPointAtX(f,true);h.dataSeries=i;this.currentDataPointIndex=h.index;r=h.dataPoint}else{return}if(h.dataPoint.y!==null)o.push(h)}}if(o.length>0){this.highlightObjects(o);var m="";m=this.getToolTipInnerHTML({entries:o});this.contentDiv.innerHTML=m;this.contentDiv.innerHTML=m;var g=false;if(this.container.style.display==="none"){g=true;this.container.style.display="block"}try{this.contentDiv.style.borderRightColor=this.contentDiv.style.borderLeftColor=this.contentDiv.style.borderColor=this.borderColor?this.borderColor:o[0].dataPoint.color?o[0].dataPoint.color:o[0].dataSeries.color?o[0].dataSeries.color:o[0].dataSeries._colorSet[o[0].index%o[0].dataSeries._colorSet.length]}catch(y){}if(o[0].dataSeries.type==="pie"||o[0].dataSeries.type==="doughnut"||o[0].dataSeries.type==="bar"||o[0].dataSeries.type==="stackedBar"||o[0].dataSeries.type==="stackedBar100"){toolTipLeft=e-10-this.container.clientWidth}else{toolTipLeft=this.chart.axisX.lineCoordinates.width/Math.abs(this.chart.axisX.maximum-this.chart.axisX.minimum)*Math.abs(o[0].dataPoint.x-this.chart.axisX.minimum)+this.chart.axisX.lineCoordinates.x1+.5-this.container.clientWidth<<0;toolTipLeft-=10}toolTipLeft=toolTipLeft>0?toolTipLeft+"px":toolTipLeft+this.container.clientWidth+20+"px";if(o.length===1&&!this.shared&&(o[0].dataSeries.type==="line"||o[0].dataSeries.type==="stepLine"||o[0].dataSeries.type==="spline"||o[0].dataSeries.type==="area"||o[0].dataSeries.type==="stepArea"||o[0].dataSeries.type==="splineArea"||o[0].dataSeries.type==="stackedArea"||o[0].dataSeries.type==="stackedArea100")){a=o[0].dataSeries.axisY.lineCoordinates.y2-o[0].dataSeries.axisY.lineCoordinates.height/Math.abs(o[0].dataSeries.axisY.maximum-o[0].dataSeries.axisY.minimum)*Math.abs(o[0].dataPoint.y-o[0].dataSeries.axisY.minimum)+.5<<0}else if(o[0].dataSeries.type==="bar"||o[0].dataSeries.type==="stackedBar"||o[0].dataSeries.type==="stackedBar100"){a=o[0].dataSeries.axisX.lineCoordinates.y2-o[0].dataSeries.axisX.lineCoordinates.height/Math.abs(o[0].dataSeries.axisX.maximum-o[0].dataSeries.axisX.minimum)*Math.abs(o[0].dataPoint.x-o[0].dataSeries.axisX.minimum)+.5<<0}else{a=n}a=-a+10;if(a+this.container.clientHeight+5>0){a-=a+this.container.clientHeight+5-0}a+="px";this.container.style.left=toolTipLeft;this.container.style.bottom=a;if(!this.animationEnabled||g){this.disableAnimation()}else this.enableAnimation()}};K.prototype.highlightObjects=function(e){if(!this.enabled)return;var t=this.chart.overlaidCanvasCtx;this.chart.resetOverlayedCanvas();t.save();var n=this.chart.plotArea;t.rect(n.x1,n.y1,n.width,n.height);t.clip();t.beginPath();for(var r=0;r<e.length;r++){var i=e[r];var s=this.chart._eventManager.objectMap[i.dataSeries.dataPointIds[i.index]];if(!s||!s.objectType||s.objectType!=="dataPoint")continue;var o=this.chart.data[s.dataSeriesIndex];var u=this.chart.data[s.dataPointIndex];var a=s.dataPointIndex;if(o.type==="line"||o.type==="stepLine"||o.type==="spline"||o.type==="scatter"||o.type==="area"||o.type==="stepArea"||o.type==="splineArea"||o.type==="stackedArea"||o.type==="stackedArea100"){var f=o.getMarkerProperties(a,s.x1,s.y1,this.chart.overlaidCanvasCtx);f.size=Math.max(f.size*1.5<<0,10);f.borderColor=f.borderColor||"#FFFFFF";f.borderThickness=f.borderThickness||Math.ceil(f.size*.1);Y.drawMarkers([f])}else if(o.type==="bubble"){var f=o.getMarkerProperties(a,s.x1,s.y1,this.chart.overlaidCanvasCtx);f.size=s.size;f.color="white";f.borderColor="white";t.globalAlpha=.3;Y.drawMarkers([f]);t.globalAlpha=1}else if(o.type==="column"||o.type==="stackedColumn"||o.type==="stackedColumn100"||o.type==="bar"||o.type==="stackedBar"||o.type==="stackedBar100"){t.globalAlpha=.3;I(t,s.x1,s.y1,s.x2,s.y2,"white",false,false,false,false);t.globalAlpha=1}else if(o.type==="pie"||o.type==="doughnut"){t.globalAlpha=.3;q(t,s.center,s.radius,"white",o.type,s.startAngle,s.endAngle);t.globalAlpha=1}continue}t.globalAlpha=1;t.restore();return};K.prototype.getToolTipInnerHTML=function(e){var t=e.entries;var n="";var r=null;var i=null;var s=0;var o=null;var u="";var a=true;for(var f=0;f<t.length;f++){if(t[f].dataSeries.toolTipContent||t[f].dataPoint.toolTipContent){a=false;break}}if(a&&this.content&&typeof this.content==="function"){n=this.content({entries:t})}else{if(t.length>1){for(var f=0;f<t.length;f++){r=t[f].dataSeries;i=t[f].dataPoint;s=t[f].index;u="";if(f===0&&a&&!this.content){u+=typeof this.chart.axisX.labels[i.x]!=="undefined"?this.chart.axisX.labels[i.x]:"{x}";u+="</br>"}if(r.type==="line"||r.type==="stepLine"||r.type==="spline"||r.type==="area"||r.type==="stepArea"||r.type==="splineArea"||r.type==="column"||r.type==="bar"||r.type==="scatter"||r.type==="stackedColumn"||r.type==="stackedColumn100"||r.type==="stackedBar"||r.type==="stackedBar100"||r.type==="stackedArea"||r.type==="stackedArea100"){u+=i.toolTipContent?i.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!=="function"?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}"}else if(r.type==="bubble"){u+=i.toolTipContent?i.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!=="function"?this.content:"<span style='\"'color:{color};'\"'>{name}:</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"}else if(r.type==="pie"||r.type==="doughnut"){u+=i.toolTipContent?i.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!=="function"?this.content:"&nbsp;&nbsp;{y}"}n+=this.chart.replaceKeywordsWithValue(u,i,r,s);if(f<t.length-1)n+="</br>"}}else{r=t[0].dataSeries;i=t[0].dataPoint;s=t[0].index;if(r.type==="line"||r.type==="stepLine"||r.type==="spline"||r.type==="area"||r.type==="stepArea"||r.type==="splineArea"||r.type==="column"||r.type==="bar"||r.type==="scatter"||r.type==="stackedColumn"||r.type==="stackedColumn100"||r.type==="stackedBar"||r.type==="stackedBar100"||r.type==="stackedArea"||r.type==="stackedArea100"){u=i.toolTipContent?i.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!=="function"?this.content:"<span style='\"'color:{color};'\"'>"+(i.label?"{label}":"{x}")+" :</span>&nbsp;&nbsp;{y}"}else if(r.type==="bubble"){u=i.toolTipContent?i.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!=="function"?this.content:"<span style='\"'color:{color};'\"'>"+(i.label?"{label}":"{x}")+":</span>&nbsp;&nbsp;{y}, &nbsp;&nbsp;{z}"}else if(r.type==="pie"||r.type==="doughnut"){u=i.toolTipContent?i.toolTipContent:r.toolTipContent?r.toolTipContent:this.content&&typeof this.content!=="function"?this.content:(i.name?"{name}:&nbsp;&nbsp;":i.label?"{label}:&nbsp;&nbsp;":"")+"{y}"}n+=this.chart.replaceKeywordsWithValue(u,i,r,s)}}return n};K.prototype.enableAnimation=function(){if(this.container.style.WebkitTransition)return;this.container.style.WebkitTransition="left .2s ease-out, bottom .2s ease-out";this.container.style.MozTransition="left .2s ease-out, bottom .2s ease-out";this.container.style.MsTransition="left .2s ease-out, bottom .2s ease-out";this.container.style.transition="left .2s ease-out, bottom .2s ease-out"};K.prototype.disableAnimation=function(){if(!this.container.style.WebkitTransition)return;this.container.style.WebkitTransition="";this.container.style.MozTransition="";this.container.style.MsTransition="";this.container.style.transition=""};K.prototype.hide=function(){if(!this.enabled)return;this.container.style.display="none";this.currentSeriesIndex=-1;this._prevX=NaN;this._prevY=NaN;this.chart.resetOverlayedCanvas()};j.prototype.replaceKeywordsWithValue=function(e,t,n,r){var i=/\{\s*[a-zA-Z]+\s*\}|"[^"]*"|'[^']*'/g;var s=this;var o=function(e){if(e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'")return e.slice(1,e.length-1);var i=p(e.slice(1,e.length-1));var o=null;if(i==="color"){return t.color?t.color:n.color?n.color:n._colorSet[r%n._colorSet.length]}if(t.hasOwnProperty(i))o=t;else if(n.hasOwnProperty(i))o=n;else return"";if(i==="x"){if(s.axisX&&s.plotInfo.axisXValueType==="dateTime")return T(o[i],t.xValueFormatString?t.xValueFormatString:n.xValueFormatString?n.xValueFormatString:s.axisX&&s.axisX.valueFormatString?s.axisX.valueFormatString:"DD MMM YY",s._cultureInfo);else return N(o[i],t.xValueFormatString?t.xValueFormatString:n.xValueFormatString?n.xValueFormatString:"#,##0.########",s._cultureInfo)}else if(i==="y")return N(o[i],t.yValueFormatString?t.yValueFormatString:n.yValueFormatString?n.yValueFormatString:"#,##0.########",s._cultureInfo);else return o[i]};return e.replace(i,o)};Q.prototype.reset=function(){this.lastObjectId=0;this.objectMap=[];this.rectangularRegionEventSubscriptions=[];this.previousDataPointEventObject=null;this.eventObjects=[];if(t){this.ghostCtx.clearRect(0,0,this.chart.width,this.chart.height);this.ghostCtx.beginPath()}};Q.prototype.getNewObjectTrackingId=function(){return++this.lastObjectId};Q.prototype.mouseEventHandler=function(e){if(e.type!=="mousemove"&&e.type!=="click")return;var t=[];var n=k(e);var r=null;r=this.chart.getObjectAtXY(n.x,n.y,false);if(r&&typeof this.objectMap[r]!=="undefined"){var i=this.objectMap[r];if(i.objectType==="dataPoint"){var s=this.chart.data[i.dataSeriesIndex];var o=s.dataPoints[i.dataPointIndex];var u=i.dataPointIndex;i.eventParameter={x:n.x,y:n.y,dataPoint:o,dataSeries:s._options,dataPointIndex:u,dataSeriesIndex:s.index};i.eventContext={context:o,userContext:o,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"};t.push(i);i=this.objectMap[s.id];i.eventParameter={x:n.x,y:n.y,dataPoint:o,dataSeries:s._options,dataPointIndex:u,dataSeriesIndex:s.index};i.eventContext={context:s,userContext:s._options,mouseover:"mouseover",mousemove:"mousemove",mouseout:"mouseout",click:"click"};t.push(this.objectMap[s.id])}else if(i.objectType==="legendItem"){var s=this.chart.data[i.dataSeriesIndex];var o=s.dataPoints[i.dataPointIndex];i.eventParameter={x:n.x,y:n.y,dataSeries:s._options,dataPoint:o,dataPointIndex:i.dataPointIndex,dataSeriesIndex:i.dataSeriesIndex};i.eventContext={context:this.chart.legend,userContext:this.chart.legend._options,mouseover:"itemmouseover",mousemove:"itemmousemove",mouseout:"itemmouseout",click:"itemclick"};t.push(i)}}var a=[];for(var f=0;f<this.mouseoveredObjectMaps.length;f++){var l=true;for(var c=0;c<t.length;c++){if(t[c].id===this.mouseoveredObjectMaps[f].id){l=false;break}}if(l){this.fireEvent(this.mouseoveredObjectMaps[f],"mouseout",e)}else{a.push(this.mouseoveredObjectMaps[f])}}this.mouseoveredObjectMaps=a;for(var f=0;f<t.length;f++){var h=false;for(var c=0;c<this.mouseoveredObjectMaps.length;c++){if(t[f].id===this.mouseoveredObjectMaps[c].id){h=true;break}}if(!h){this.fireEvent(t[f],"mouseover",e);this.mouseoveredObjectMaps.push(t[f])}if(e.type==="click"){this.fireEvent(t[f],"click",e)}else if(e.type==="mousemove"){this.fireEvent(t[f],"mousemove",e)}}};Q.prototype.fireEvent=function(e,t,n){if(!e||!t)return;var r=e.eventParameter;var i=e.eventContext;var s=e.eventContext.userContext;if(s&&i&&s[i[t]])s[i[t]].call(s,r);if(t!=="mouseout"){if(s.cursor&&s.cursor!==n.target.style.cursor){n.target.style.cursor=s.cursor}}else{n.target.style.cursor=this.chart._defaultCursor;delete e.eventParameter;delete e.eventContext}if(t==="click"&&e.objectType==="dataPoint"&&this.chart.pieDoughnutClickHandler){this.chart.pieDoughnutClickHandler.call(this.chart.data[e.dataSeriesIndex],r)}};a(G,B);var Y={drawMarker:function(e,t,n,r,i,s,o,u){if(!n)return;var a=1;n.fillStyle=s?s:"#000000";n.strokeStyle=o?o:"#000000";n.lineWidth=u?u:0;if(r==="circle"){n.moveTo(e,t);n.beginPath();n.arc(e,t,i/2,0,Math.PI*2,false);if(s)n.fill();if(u){if(!o){a=n.globalAlpha;n.globalAlpha=.15;n.strokeStyle="black";n.stroke();n.globalAlpha=a}else n.stroke()}}else if(r==="notFilledCircle"){n.moveTo(e,t);n.beginPath();n.arc(e,t,i/2,0,Math.PI*2,false);n.stroke()}else if(r==="leftFilledCircle"){n.moveTo(e,t);n.beginPath();n.arc(e,t,i/2,.5*Math.PI,Math.PI*1.5,false);if(s)n.fill();n.arc(e,t,i/2,1.5*Math.PI,Math.PI*.5,false);n.stroke()}else if(r==="rightFilledCircle"){n.moveTo(e,t);n.beginPath();n.arc(e,t,i/2,1.5*Math.PI,Math.PI*.5,false);if(s)n.fill();n.arc(e,t,i/2,.5*Math.PI,Math.PI*1.5,false);n.stroke()}else if(r==="square"){n.beginPath();n.rect(e-i/2,t-i/2,i,i);if(s)n.fill();if(u){if(!o){a=n.globalAlpha;n.globalAlpha=.15;n.strokeStyle="black";n.stroke();n.globalAlpha=a}else n.stroke()}}else if(r==="triangle"){n.beginPath();n.moveTo(e-i/2,t+i/2);n.lineTo(e+i/2,t+i/2);n.lineTo(e,t-i/2);n.closePath();if(s)n.fill();if(u){if(!o){a=n.globalAlpha;n.globalAlpha=.15;n.strokeStyle="black";n.stroke();n.globalAlpha=a}else n.stroke()}n.beginPath()}else if(r==="cross"){n.strokeStyle=s;u=i/4;n.lineWidth=u;n.beginPath();n.moveTo(e-i/2,t-i/2);n.lineTo(e+i/2,t+i/2);n.stroke();n.moveTo(e+i/2,t-i/2);n.lineTo(e-i/2,t+i/2);n.stroke()}},drawMarkers:function(e){for(var t=0;t<e.length;t++){var n=e[t];Y.drawMarker(n.x,n.y,n.ctx,n.type,n.size,n.color,n.borderColor,n.borderThickness)}}};var Z={Chart:function(e,t){var n=new j(e,t,this);this.render=function(){n.render(this.options)};this.options=n._options},addColorSet:function(e,t){s[e]=t},addCultureInfo:function(e,t){r[e]=t}};Z.Chart.version="v1.4.0 GA";window.CanvasJS=Z})()